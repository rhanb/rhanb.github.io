{"version":3,"sources":["../../src/utils/isBrowser.js","../../src/utils/debounce.js","../../src/utils/isFunction.js","../../src/utils/getStyleComputedProperty.js","../../src/utils/getParentNode.js","../../src/utils/getScrollParent.js","../../src/utils/isIE.js","../../src/utils/getOffsetParent.js","../../src/utils/isOffsetContainer.js","../../src/utils/getRoot.js","../../src/utils/findCommonOffsetParent.js","../../src/utils/getScroll.js","../../src/utils/includeScroll.js","../../src/utils/getBordersSize.js","../../src/utils/getWindowSizes.js","../../src/utils/getClientRect.js","../../src/utils/getBoundingClientRect.js","../../src/utils/getOffsetRectRelativeToArbitraryNode.js","../../src/utils/getViewportOffsetRectRelativeToArtbitraryNode.js","../../src/utils/isFixed.js","../../src/utils/getFixedPositionOffsetParent.js","../../src/utils/getBoundaries.js","../../src/utils/computeAutoPlacement.js","../../src/utils/getReferenceOffsets.js","../../src/utils/getOuterSizes.js","../../src/utils/getOppositePlacement.js","../../src/utils/getPopperOffsets.js","../../src/utils/find.js","../../src/utils/findIndex.js","../../src/utils/runModifiers.js","../../src/methods/update.js","../../src/utils/isModifierEnabled.js","../../src/utils/getSupportedPropertyName.js","../../src/methods/destroy.js","../../src/utils/getWindow.js","../../src/utils/setupEventListeners.js","../../src/methods/enableEventListeners.js","../../src/utils/removeEventListeners.js","../../src/methods/disableEventListeners.js","../../src/utils/isNumeric.js","../../src/utils/setStyles.js","../../src/utils/setAttributes.js","../../src/modifiers/applyStyle.js","../../src/modifiers/computeStyle.js","../../src/utils/isModifierRequired.js","../../src/modifiers/arrow.js","../../src/utils/getOppositeVariation.js","../../src/methods/placements.js","../../src/utils/clockwise.js","../../src/modifiers/flip.js","../../src/modifiers/keepTogether.js","../../src/modifiers/offset.js","../../src/modifiers/preventOverflow.js","../../src/modifiers/shift.js","../../src/modifiers/hide.js","../../src/modifiers/inner.js","../../src/modifiers/index.js","../../src/methods/defaults.js","../../src/index.js","../../src/js/defaults.js","../../src/js/selectors.js","../../src/js/utils.js","../../src/js/bindGlobalEventListeners.js","../../src/js/createTippy.js","../../src/js/tippy.js","common.ts","../node_modules/hammerjs/hammer.js","../node_modules/granim/lib/onResize.js","../node_modules/granim/lib/onScroll.js","../node_modules/granim/lib/validateInput.js","../node_modules/granim/lib/triggerError.js","../node_modules/granim/lib/prepareImage.js","../node_modules/granim/lib/eventPolyfill.js","../node_modules/granim/lib/colorDiff.js","../node_modules/granim/lib/hexToRgb.js","../node_modules/granim/lib/setDirection.js","../node_modules/granim/lib/setColors.js","../node_modules/granim/lib/getElement.js","../node_modules/granim/lib/getDimensions.js","../node_modules/granim/lib/getLightness.js","../node_modules/granim/lib/getCurrentColors.js","../node_modules/granim/lib/animateColors.js","../node_modules/granim/lib/refreshColors.js","../node_modules/granim/lib/makeGradient.js","../node_modules/granim/lib/pause.js","../node_modules/granim/lib/play.js","../node_modules/granim/lib/clear.js","../node_modules/granim/lib/destroy.js","../node_modules/granim/lib/pauseWhenNotInView.js","../node_modules/granim/lib/setSizeAttributes.js","../node_modules/granim/lib/changeDirection.js","../node_modules/granim/lib/changeBlendingMode.js","../node_modules/granim/lib/changeState.js","../node_modules/granim/lib/Granim.js","../node_modules/granim/index.js","utils.ts","tutorial/step.ts","tutorial/tutorial.ts","translator/translations.ts","translator/translator.ts","portfolio.ts","index.ts"],"names":["window","document","longerTimeoutBrowsers","timeoutDuration","i","length","isBrowser","navigator","userAgent","indexOf","microtaskDebounce","fn","called","Promise","resolve","then","taskDebounce","scheduled","supportsMicroTasks","isFunction","functionToCheck","getType","toString","call","getStyleComputedProperty","element","property","nodeType","css","getComputedStyle","getParentNode","nodeName","parentNode","host","getScrollParent","body","ownerDocument","overflow","overflowX","overflowY","test","isIE11","MSInputMethodContext","documentMode","isIE10","isIE","version","getOffsetParent","documentElement","noOffsetParent","offsetParent","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","node","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","start","end","range","createRange","setStart","setEnd","commonAncestorContainer","contains","element1root","getScroll","side","upperSide","html","scrollingElement","includeScroll","rect","subtract","scrollTop","scrollLeft","modifier","top","bottom","left","right","getBordersSize","styles","axis","sideA","sideB","parseFloat","getSize","computedStyle","Math","max","parseInt","getWindowSizes","getClientRect","offsets","width","height","getBoundingClientRect","e","result","sizes","clientWidth","clientHeight","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","getOffsetRectRelativeToArbitraryNode","children","parent","fixedPosition","runIsIE","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","offset","isFixed","getFixedPositionOffsetParent","parentElement","el","getBoundaries","popper","reference","padding","boundariesElement","boundaries","boundariesNode","isPaddingNumber","getArea","computeAutoPlacement","placement","refRect","rects","sortedAreas","Object","keys","map","key","sort","a","b","area","filteredAreas","filter","computedPlacement","variation","split","getReferenceOffsets","state","commonOffsetParent","getOuterSizes","x","marginBottom","y","marginRight","getOppositePlacement","hash","replace","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","find","arr","check","Array","prototype","findIndex","prop","value","cur","match","obj","runModifiers","modifiers","data","ends","modifiersToRun","undefined","slice","forEach","warn","enabled","update","isDestroyed","options","positionFixed","flip","originalPlacement","position","isCreated","onCreate","onUpdate","isModifierEnabled","modifierName","some","name","getSupportedPropertyName","prefixes","upperProp","charAt","toUpperCase","prefix","toCheck","style","destroy","removeAttribute","willChange","disableEventListeners","removeOnDestroy","removeChild","getWindow","defaultView","attachToScrollParents","event","callback","scrollParents","isBody","target","addEventListener","passive","push","setupEventListeners","updateBound","scrollElement","eventsEnabled","enableEventListeners","scheduleUpdate","removeEventListeners","removeEventListener","isNumeric","n","isNaN","isFinite","setStyles","unit","setAttributes","attributes","setAttribute","applyStyle","instance","arrowElement","arrowStyles","applyStyleOnLoad","modifierOptions","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","floor","round","prefixedProperty","invertTop","invertLeft","arrow","isModifierRequired","requestingName","requestedName","requesting","isRequired","requested","querySelector","isVertical","len","sideCapitalized","toLowerCase","altSide","opSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","min","getOppositeVariation","validPlacements","placements","clockwise","counter","index","concat","reverse","BEHAVIORS","flipped","placementOpposite","flipOrder","behavior","FLIP","CLOCKWISE","COUNTERCLOCKWISE","step","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariation","flipVariations","keepTogether","toValue","str","size","parseOffset","basePlacement","useHeight","fragments","frag","trim","divider","search","splitRegex","ops","op","mergeWithPrevious","reduce","index2","preventOverflow","transformProp","popperStyles","transform","priority","escapeWithReference","shift","shiftvariation","shiftOffsets","hide","bound","inner","subtractLength","Popper","requestAnimationFrame","debounce","bind","Defaults","jquery","onLoad","Utils","global","PopperUtils","setDefaults","partialDefaults","POPPER_INSTANCE_RELATED_PROPS","Selectors","FF_EXTENSION_TRICK","toArray","setContent","contentEl","props","content","Element","appendChild","allowHTML","elementCanReceiveFocus","matches","hasAttribute","applyTransitionDuration","els","Boolean","transitionDuration","getChildren","select","s","TOOLTIP","BACKDROP","CONTENT","ARROW","ROUND_ARROW","isPlainObject","div","createElement","setInnerHTML","getArrayOfElements","NodeList","isArray","querySelectorAll","getValue","defaultValue","v","createArrowElement","arrowType","className","createBackdropElement","backdrop","addInteractive","tooltip","removeInteractive","addInertia","removeInertia","createPopperElement","id","zIndex","animation","theme","classList","add","t","interactive","animateFill","inertia","relatedTarget","_tippy","closestCallback","shouldPopperHideOnBlur","updatePopperElement","prevProps","nextProps","replaceChild","remove","hideAllPoppers","POPPER","tip","hideOnClick","excludeTippy","getDataAttributeOptions","acc","valueAsString","getAttribute","Number","JSON","parse","polyfillVirtualReferenceProps","polyfills","virtualReference","classNames","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","closest","parentSelector","selector","focus","scrollX","pageXOffset","scrollY","pageYOffset","reflow","transformAxisBasedOnPlacement","transformNumbersBasedOnPlacement","type","numbers","isReverse","transforms","getTransformAxis","cssFunction","RegExp","getTransformNumbers","regex","TRANSFORM_NUMBER_RE","computeArrowTransform","arrowTransform","getPopperPlacement","translate","scale","computedTransform","setVisibilityState","afterPopperPositionUpdates","popperInstance","defer","isCursorOutsideInteractiveBorder","popperPlacement","clientX","clientY","interactiveBorder","distance","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","getOffsetDistanceInPx","defaultDistance","fullPlacement","evaluateProps","out","performance","appendTo","toggleTransitionEndListener","action","listener","ms","timeoutId","setTimeout","apply","arguments","validateOptions","option","Error","nav","win","isIOS","platform","MSStream","supportsTouch","isUsingTouch","onDocumentTouch","onDocumentMouseMove","lastMouseMoveTime","now","onDocumentClick","isClickTrigger","trigger","clearDelayTimeouts","onWindowBlur","activeElement","blur","onWindowResize","tippyInstance","livePlacement","bindEventListeners","useCapture","maxTouchPoints","msMaxTouchPoints","idCounter","createTippy","collectionProps","multiple","popperMutationObserver","lastTriggerEvent","lastMouseMoveEvent","showTimeoutId","hideTimeoutId","isPreparingToShow","transitionEndListener","listeners","referenceJustProgrammaticallyFocused","firstPopperInstanceInit","debouncedOnMouseMove","interactiveDebounce","onMouseMove","popperChildren","onReferenceClick","lazy","createPopperInstance","showOnInit","prepareShow","a11y","positionVirtualReferenceNearCursor","followCursor","isHorizontal","createDelegateChildTippy","targetEl","isVisible","wait","hasFollowCursorBehavior","margin","delay","prepareHide","removeFollowCursorListener","cleanupOldMouseMoveListeners","onTrigger","isEnabled","isEventListenerStopped","referenceTheCursorIsOver","isCursorOverPopper","isCursorOverReference","onMouseLeave","onBlur","onDelegateShow","onDelegateHide","isTouchEvent","caseA","touchHold","caseB","popperOptions","arrowSelector","config","flipBehavior","observer","MutationObserver","observe","childList","subtree","disconnect","mount","onMount","isMounted","makeSticky","updateDuration","updatePosition","onTransitionedOut","duration","onTransitionedIn","onTransitionEnd","on","eventType","handler","addTriggersToReference","removeTriggersFromReference","enable","disable","set","show","touch","isVirtual","onShow","visibility","transitionDelay","sticky","onShown","isShown","onHide","onHidden","destroyTargetInstances","child","eventListenersBound","tippy","targets","one","references","firstReference","instances","defaults","disableAnimations","autoInit","exportName","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","abs","Date","setTimeoutContext","timeout","context","bindFn","invokeArrayArg","arg","each","iterator","hasOwnProperty","deprecate","method","message","deprecationMessage","stack","log","console","assign","TypeError","output","source","nextKey","extend","dest","src","merge","inherit","base","properties","baseP","childP","create","constructor","_super","boundFn","boolOrFn","val","args","ifUndefined","val1","val2","addEventListeners","types","splitStr","hasParent","inStr","inArray","findByKey","uniqueArray","results","values","sortUniqueArray","prefixed","camelProp","_uniqueId","uniqueId","getWindowForElement","doc","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","self","inputTarget","domHandler","ev","init","evEl","evTarget","evWin","createInputInstance","Type","inputClass","PointerEventInput","TouchInput","MouseInput","TouchMouseInput","inputHandler","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","computeInputData","emit","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","timeStamp","deltaTime","angle","getAngle","getDistance","computeDeltaXY","offsetDirection","getDirection","deltaX","deltaY","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offsetDelta","prevDelta","last","lastInterval","velocity","velocityX","velocityY","direction","p1","p2","sqrt","atan2","PI","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","pressed","MEhandler","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","MSPointerEvent","PointerEvent","store","pointerEvents","PEhandler","removePointer","eventTypeNormalized","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","TEhandler","touches","normalizeSingleTouches","all","changed","changedTouches","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","targetIds","MTEhandler","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","DEDUP_TIMEOUT","DEDUP_DISTANCE","mouse","primaryTouch","lastTouches","TMEhandler","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","recordTouches","isSyntheticEvent","eventData","setLastTouch","lastTouch","lts","removeLastTouch","dx","dy","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","TouchAction","compute","actions","touchAction","recognizers","recognizer","getTouchAction","cleanTouchActions","join","preventDefaults","prevented","preventDefault","hasNone","hasPanY","hasPanX","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","touchMap","cssSupports","CSS","supports","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","Recognizer","simultaneous","requireFail","recognizeWith","otherRecognizer","getRecognizerByNameIfManager","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","stateStr","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","directionStr","get","AttrRecognizer","attrTest","optionPointers","isRecognized","isValid","PanRecognizer","pX","pY","threshold","directionTest","hasMoved","PinchRecognizer","inOut","PressRecognizer","_timer","_input","time","validPointers","validMovement","validTime","clearTimeout","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","Hammer","preset","Manager","VERSION","domEvents","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","handlers","oldCssProps","toggleCssProps","item","stop","force","stopped","curRecognizer","existing","events","off","triggerDomEvent","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","Tap","Pan","Swipe","Pinch","Rotate","Press","freeGlobal","define","amd","module","exports"],"mappings":"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A8BA,IAA9B,GAAqC,EAAjG,CAhkFmD,CAgkFoD;;AACvGkR,EAAAA,UAAU,CAACrC,MAAX,GAAoBA,MAApB;;AAEA,MAAI,OAAOsC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA3C,EAAgD;AAC5CD,IAAAA,MAAM,CAAC,YAAW;AACd,aAAOtC,MAAP;AACH,KAFK,CAAN;AAGH,GAJD,MAIO,IAAI,OAAOwC,MAAP,IAAiB,WAAjB,IAAgCA,MAAM,CAACC,OAA3C,EAAoD;AACvDD,IAAAA,MAAM,CAACC,OAAP,GAAiBzC,MAAjB;AACH,GAFM,MAEA;AACHp8B,IAAAA,MAAM,CAAC8nB,UAAD,CAAN,GAAqBsU,MAArB;AACH;AAEA,CA7kFD,EA6kFGp8B,MA7kFH,EA6kFWC,QA7kFX,EA6kFqB,QA7kFrB;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"src.77de5100.map","sourceRoot":"../src","sourcesContent":["export default typeof window !== 'undefined' && typeof document !== 'undefined';\n","import isBrowser from './isBrowser';\n\nconst longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\nlet timeoutDuration = 0;\nfor (let i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n    timeoutDuration = 1;\n    break;\n  }\n}\n\nexport function microtaskDebounce(fn) {\n  let called = false\n  return () => {\n    if (called) {\n      return\n    }\n    called = true\n    window.Promise.resolve().then(() => {\n      called = false\n      fn()\n    })\n  }\n}\n\nexport function taskDebounce(fn) {\n  let scheduled = false;\n  return () => {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(() => {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nconst supportsMicroTasks = isBrowser && window.Promise\n\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nexport default (supportsMicroTasks\n  ? microtaskDebounce\n  : taskDebounce);\n","/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nexport default function isFunction(functionToCheck) {\n  const getType = {};\n  return (\n    functionToCheck &&\n    getType.toString.call(functionToCheck) === '[object Function]'\n  );\n}\n","/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nexport default function getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  const css = getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n","/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nexport default function getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getParentNode from './getParentNode';\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nexport default function getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body\n    case '#document':\n      return element.body\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n  const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n","import isBrowser from './isBrowser';\n\nconst isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nconst isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nexport default function isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport isIE from './isIE';\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nexport default function getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  const noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  let offsetParent = element.offsetParent;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  const nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (\n    ['TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\n    getStyleComputedProperty(offsetParent, 'position') === 'static'\n  ) {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n","import getOffsetParent from './getOffsetParent';\n\nexport default function isOffsetContainer(element) {\n  const { nodeName } = element;\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return (\n    nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element\n  );\n}\n","/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nexport default function getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n","import isOffsetContainer from './isOffsetContainer';\nimport getRoot from './getRoot';\nimport getOffsetParent from './getOffsetParent';\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nexport default function findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  const order =\n    element1.compareDocumentPosition(element2) &\n    Node.DOCUMENT_POSITION_FOLLOWING;\n  const start = order ? element1 : element2;\n  const end = order ? element2 : element1;\n\n  // Get common ancestor container\n  const range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  const { commonAncestorContainer } = range;\n\n  // Both nodes are inside #document\n  if (\n    (element1 !== commonAncestorContainer &&\n      element2 !== commonAncestorContainer) ||\n    start.contains(end)\n  ) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  const element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n","/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nexport default function getScroll(element, side = 'top') {\n  const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  const nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    const html = element.ownerDocument.documentElement;\n    const scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n","import getScroll from './getScroll';\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nexport default function includeScroll(rect, element, subtract = false) {\n  const scrollTop = getScroll(element, 'top');\n  const scrollLeft = getScroll(element, 'left');\n  const modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n","/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nexport default function getBordersSize(styles, axis) {\n  const sideA = axis === 'x' ? 'Left' : 'Top';\n  const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return (\n    parseFloat(styles[`border${sideA}Width`], 10) +\n    parseFloat(styles[`border${sideB}Width`], 10)\n  );\n}\n","import isIE from './isIE';\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(\n    body[`offset${axis}`],\n    body[`scroll${axis}`],\n    html[`client${axis}`],\n    html[`offset${axis}`],\n    html[`scroll${axis}`],\n    isIE(10)\n      ? (parseInt(html[`offset${axis}`]) + \n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Top' : 'Left'}`]) + \n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Bottom' : 'Right'}`]))\n    : 0 \n  );\n}\n\nexport default function getWindowSizes(document) {\n  const body = document.body;\n  const html = document.documentElement;\n  const computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle),\n  };\n}\n","/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nexport default function getClientRect(offsets) {\n  return {\n    ...offsets,\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height,\n  };\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getBordersSize from './getBordersSize';\nimport getWindowSizes from './getWindowSizes';\nimport getScroll from './getScroll';\nimport getClientRect from './getClientRect';\nimport isIE from './isIE';\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nexport default function getBoundingClientRect(element) {\n  let rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      const scrollTop = getScroll(element, 'top');\n      const scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    }\n    else {\n      rect = element.getBoundingClientRect();\n    }\n  }\n  catch(e){}\n\n  const result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top,\n  };\n\n  // subtract scrollbar size from sizes\n  const sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  const width =\n    sizes.width || element.clientWidth || result.right - result.left;\n  const height =\n    sizes.height || element.clientHeight || result.bottom - result.top;\n\n  let horizScrollbar = element.offsetWidth - width;\n  let vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    const styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport includeScroll from './includeScroll';\nimport getScrollParent from './getScrollParent';\nimport getBoundingClientRect from './getBoundingClientRect';\nimport runIsIE from './isIE';\nimport getClientRect from './getClientRect';\n\nexport default function getOffsetRectRelativeToArbitraryNode(children, parent, fixedPosition = false) {\n  const isIE10 = runIsIE(10);\n  const isHTML = parent.nodeName === 'HTML';\n  const childrenRect = getBoundingClientRect(children);\n  const parentRect = getBoundingClientRect(parent);\n  const scrollParent = getScrollParent(children);\n\n  const styles = getStyleComputedProperty(parent);\n  const borderTopWidth = parseFloat(styles.borderTopWidth, 10);\n  const borderLeftWidth = parseFloat(styles.borderLeftWidth, 10);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if(fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  let offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height,\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    const marginTop = parseFloat(styles.marginTop, 10);\n    const marginLeft = parseFloat(styles.marginLeft, 10);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (\n    isIE10 && !fixedPosition\n      ? parent.contains(scrollParent)\n      : parent === scrollParent && scrollParent.nodeName !== 'BODY'\n  ) {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n","import getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getScroll from './getScroll';\nimport getClientRect from './getClientRect';\n\nexport default function getViewportOffsetRectRelativeToArtbitraryNode(element, excludeScroll = false) {\n  const html = element.ownerDocument.documentElement;\n  const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  const width = Math.max(html.clientWidth, window.innerWidth || 0);\n  const height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  const scrollTop = !excludeScroll ? getScroll(html) : 0;\n  const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  const offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width,\n    height,\n  };\n\n  return getClientRect(offset);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getParentNode from './getParentNode';\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nexport default function isFixed(element) {\n  const nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  return isFixed(getParentNode(element));\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport isIE from './isIE';\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nexport default function getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n   if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  let el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n\n}\n","import getScrollParent from './getScrollParent';\nimport getParentNode from './getParentNode';\nimport findCommonOffsetParent from './findCommonOffsetParent';\nimport getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getViewportOffsetRectRelativeToArtbitraryNode from './getViewportOffsetRectRelativeToArtbitraryNode';\nimport getWindowSizes from './getWindowSizes';\nimport isFixed from './isFixed';\nimport getFixedPositionOffsetParent from './getFixedPositionOffsetParent';\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nexport default function getBoundaries(\n  popper,\n  reference,\n  padding,\n  boundariesElement,\n  fixedPosition = false\n) {\n  // NOTE: 1 DOM access here\n\n  let boundaries = { top: 0, left: 0 };\n  const offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport' ) {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  }\n\n  else {\n    // Handle other cases based on DOM element used as boundaries\n    let boundariesNode;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    const offsets = getOffsetRectRelativeToArbitraryNode(\n      boundariesNode,\n      offsetParent,\n      fixedPosition\n    );\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      const { height, width } = getWindowSizes(popper.ownerDocument);\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  const isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0; \n  boundaries.top += isPaddingNumber ? padding : padding.top || 0; \n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0; \n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0; \n\n  return boundaries;\n}\n","import getBoundaries from '../utils/getBoundaries';\n\nfunction getArea({ width, height }) {\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function computeAutoPlacement(\n  placement,\n  refRect,\n  popper,\n  reference,\n  boundariesElement,\n  padding = 0\n) {\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  const boundaries = getBoundaries(\n    popper,\n    reference,\n    padding,\n    boundariesElement\n  );\n\n  const rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top,\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height,\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom,\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height,\n    },\n  };\n\n  const sortedAreas = Object.keys(rects)\n    .map(key => ({\n      key,\n      ...rects[key],\n      area: getArea(rects[key]),\n    }))\n    .sort((a, b) => b.area - a.area);\n\n  const filteredAreas = sortedAreas.filter(\n    ({ width, height }) =>\n      width >= popper.clientWidth && height >= popper.clientHeight\n  );\n\n  const computedPlacement = filteredAreas.length > 0\n    ? filteredAreas[0].key\n    : sortedAreas[0].key;\n\n  const variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? `-${variation}` : '');\n}\n","import findCommonOffsetParent from './findCommonOffsetParent';\nimport getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getFixedPositionOffsetParent from './getFixedPositionOffsetParent';\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nexport default function getReferenceOffsets(state, popper, reference, fixedPosition = null) {\n  const commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n","/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nexport default function getOuterSizes(element) {\n  const styles = getComputedStyle(element);\n  const x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);\n  const y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);\n  const result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x,\n  };\n  return result;\n}\n","/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nexport default function getOppositePlacement(placement) {\n  const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, matched => hash[matched]);\n}\n","import getOuterSizes from './getOuterSizes';\nimport getOppositePlacement from './getOppositePlacement';\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nexport default function getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  const popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  const popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height,\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  const mainSide = isHoriz ? 'top' : 'left';\n  const secondarySide = isHoriz ? 'left' : 'top';\n  const measurement = isHoriz ? 'height' : 'width';\n  const secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] =\n    referenceOffsets[mainSide] +\n    referenceOffsets[measurement] / 2 -\n    popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] =\n      referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] =\n      referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n","/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nexport default function find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n","import find from './find';\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nexport default function findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(cur => cur[prop] === value);\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  const match = find(arr, obj => obj[prop] === value);\n  return arr.indexOf(match);\n}\n","import isFunction from './isFunction';\nimport findIndex from './findIndex';\nimport getClientRect from '../utils/getClientRect';\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nexport default function runModifiers(modifiers, data, ends) {\n  const modifiersToRun = ends === undefined\n    ? modifiers\n    : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(modifier => {\n    if (modifier['function']) { // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    const fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n","import computeAutoPlacement from '../utils/computeAutoPlacement';\nimport getReferenceOffsets from '../utils/getReferenceOffsets';\nimport getPopperOffsets from '../utils/getPopperOffsets';\nimport runModifiers from '../utils/runModifiers';\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nexport default function update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  let data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {},\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(\n    this.state,\n    this.popper,\n    this.reference,\n    this.options.positionFixed\n  );\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(\n    this.options.placement,\n    data.offsets.reference,\n    this.popper,\n    this.reference,\n    this.options.modifiers.flip.boundariesElement,\n    this.options.modifiers.flip.padding\n  );\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(\n    this.popper,\n    data.offsets.reference,\n    data.placement\n  );\n\n  data.offsets.popper.position = this.options.positionFixed\n    ? 'fixed'\n    : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n","/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nexport default function isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(\n    ({ name, enabled }) => enabled && name === modifierName\n  );\n}\n","/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nexport default function getSupportedPropertyName(property) {\n  const prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  const upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefix = prefixes[i];\n    const toCheck = prefix ? `${prefix}${upperProp}` : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n","import isModifierEnabled from '../utils/isModifierEnabled';\nimport getSupportedPropertyName from '../utils/getSupportedPropertyName';\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nexport default function destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n","/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nexport default function getWindow(element) {\n  const ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n","import getScrollParent from './getScrollParent';\nimport getWindow from './getWindow';\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  const isBody = scrollParent.nodeName === 'BODY';\n  const target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(\n      getScrollParent(target.parentNode),\n      event,\n      callback,\n      scrollParents\n    );\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nexport default function setupEventListeners(\n  reference,\n  options,\n  state,\n  updateBound\n) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  const scrollElement = getScrollParent(reference);\n  attachToScrollParents(\n    scrollElement,\n    'scroll',\n    state.updateBound,\n    state.scrollParents\n  );\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n","import setupEventListeners from '../utils/setupEventListeners';\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nexport default function enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(\n      this.reference,\n      this.options,\n      this.state,\n      this.scheduleUpdate\n    );\n  }\n}\n","import getWindow from './getWindow';\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nexport default function removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(target => {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n","import removeEventListeners from '../utils/removeEventListeners';\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nexport default function disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n","/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nexport default function isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n","import isNumeric from './isNumeric';\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nexport default function setStyles(element, styles) {\n  Object.keys(styles).forEach(prop => {\n    let unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (\n      ['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !==\n        -1 &&\n      isNumeric(styles[prop])\n    ) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n","/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nexport default function setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function(prop) {\n    const value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n","import setStyles from '../utils/setStyles';\nimport setAttributes from '../utils/setAttributes';\nimport getReferenceOffsets from '../utils/getReferenceOffsets';\nimport computeAutoPlacement from '../utils/computeAutoPlacement';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nexport default function applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nexport function applyStyleOnLoad(\n  reference,\n  popper,\n  options,\n  modifierOptions,\n  state\n) {\n  // compute reference element offsets\n  const referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  const placement = computeAutoPlacement(\n    options.placement,\n    referenceOffsets,\n    popper,\n    reference,\n    options.modifiers.flip.boundariesElement,\n    options.modifiers.flip.padding\n  );\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n","import getSupportedPropertyName from '../utils/getSupportedPropertyName';\nimport find from '../utils/find';\nimport getOffsetParent from '../utils/getOffsetParent';\nimport getBoundingClientRect from '../utils/getBoundingClientRect';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function computeStyle(data, options) {\n  const { x, y } = options;\n  const { popper } = data.offsets;\n\n  // Remove this legacy support in Popper.js v2\n  const legacyGpuAccelerationOption = find(\n    data.instance.modifiers,\n    modifier => modifier.name === 'applyStyle'\n  ).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn(\n      'WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!'\n    );\n  }\n  const gpuAcceleration =\n    legacyGpuAccelerationOption !== undefined\n      ? legacyGpuAccelerationOption\n      : options.gpuAcceleration;\n\n  const offsetParent = getOffsetParent(data.instance.popper);\n  const offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  const styles = {\n    position: popper.position,\n  };\n\n  // Avoid blurry text by using full pixel integers.\n  // For pixel-perfect positioning, top/bottom prefers rounded\n  // values, while left/right prefers floored values.\n  const offsets = {\n    left: Math.floor(popper.left),\n    top: Math.round(popper.top),\n    bottom: Math.round(popper.bottom),\n    right: Math.floor(popper.right),\n  };\n\n  const sideA = x === 'bottom' ? 'top' : 'bottom';\n  const sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  const prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  let left, top;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = `translate3d(${left}px, ${top}px, 0)`;\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    const invertTop = sideA === 'bottom' ? -1 : 1;\n    const invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = `${sideA}, ${sideB}`;\n  }\n\n  // Attributes\n  const attributes = {\n    'x-placement': data.placement,\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = { ...attributes, ...data.attributes };\n  data.styles = { ...styles, ...data.styles };\n  data.arrowStyles = { ...data.offsets.arrow, ...data.arrowStyles };\n\n  return data;\n}\n","import find from './find';\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nexport default function isModifierRequired(\n  modifiers,\n  requestingName,\n  requestedName\n) {\n  const requesting = find(modifiers, ({ name }) => name === requestingName);\n\n  const isRequired =\n    !!requesting &&\n    modifiers.some(modifier => {\n      return (\n        modifier.name === requestedName &&\n        modifier.enabled &&\n        modifier.order < requesting.order\n      );\n    });\n\n  if (!isRequired) {\n    const requesting = `\\`${requestingName}\\``;\n    const requested = `\\`${requestedName}\\``;\n    console.warn(\n      `${requested} modifier is required by ${requesting} modifier in order to work, be sure to include it before ${requesting}!`\n    );\n  }\n  return isRequired;\n}\n","import getClientRect from '../utils/getClientRect';\nimport getOuterSizes from '../utils/getOuterSizes';\nimport isModifierRequired from '../utils/isModifierRequired';\nimport getStyleComputedProperty from '../utils/getStyleComputedProperty';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function arrow(data, options) {\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  let arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn(\n        'WARNING: `arrow.element` must be child of its popper element!'\n      );\n      return data;\n    }\n  }\n\n  const placement = data.placement.split('-')[0];\n  const { popper, reference } = data.offsets;\n  const isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  const len = isVertical ? 'height' : 'width';\n  const sideCapitalized = isVertical ? 'Top' : 'Left';\n  const side = sideCapitalized.toLowerCase();\n  const altSide = isVertical ? 'left' : 'top';\n  const opSide = isVertical ? 'bottom' : 'right';\n  const arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -=\n      popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] +=\n      reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  const center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  const css = getStyleComputedProperty(data.instance.popper);\n  const popperMarginSide = parseFloat(css[`margin${sideCapitalized}`], 10);\n  const popperBorderSide = parseFloat(css[`border${sideCapitalized}Width`], 10);\n  let sideValue =\n    center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = {\n    [side]: Math.round(sideValue),\n    [altSide]: '', // make sure to unset any eventual altSide value from the DOM node\n  };\n\n  return data;\n}\n","/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nexport default function getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n","/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nexport default [\n  'auto-start',\n  'auto',\n  'auto-end',\n  'top-start',\n  'top',\n  'top-end',\n  'right-start',\n  'right',\n  'right-end',\n  'bottom-end',\n  'bottom',\n  'bottom-start',\n  'left-end',\n  'left',\n  'left-start',\n];\n","import placements from '../methods/placements';\n\n// Get rid of `auto` `auto-start` and `auto-end`\nconst validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nexport default function clockwise(placement, counter = false) {\n  const index = validPlacements.indexOf(placement);\n  const arr = validPlacements\n    .slice(index + 1)\n    .concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n","import getOppositePlacement from '../utils/getOppositePlacement';\nimport getOppositeVariation from '../utils/getOppositeVariation';\nimport getPopperOffsets from '../utils/getPopperOffsets';\nimport runModifiers from '../utils/runModifiers';\nimport getBoundaries from '../utils/getBoundaries';\nimport isModifierEnabled from '../utils/isModifierEnabled';\nimport clockwise from '../utils/clockwise';\n\nconst BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise',\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  const boundaries = getBoundaries(\n    data.instance.popper,\n    data.instance.reference,\n    options.padding,\n    options.boundariesElement,\n    data.positionFixed\n  );\n\n  let placement = data.placement.split('-')[0];\n  let placementOpposite = getOppositePlacement(placement);\n  let variation = data.placement.split('-')[1] || '';\n\n  let flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach((step, index) => {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    const popperOffsets = data.offsets.popper;\n    const refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    const floor = Math.floor;\n    const overlapsRef =\n      (placement === 'left' &&\n        floor(popperOffsets.right) > floor(refOffsets.left)) ||\n      (placement === 'right' &&\n        floor(popperOffsets.left) < floor(refOffsets.right)) ||\n      (placement === 'top' &&\n        floor(popperOffsets.bottom) > floor(refOffsets.top)) ||\n      (placement === 'bottom' &&\n        floor(popperOffsets.top) < floor(refOffsets.bottom));\n\n    const overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    const overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    const overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    const overflowsBottom =\n      floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    const overflowsBoundaries =\n      (placement === 'left' && overflowsLeft) ||\n      (placement === 'right' && overflowsRight) ||\n      (placement === 'top' && overflowsTop) ||\n      (placement === 'bottom' && overflowsBottom);\n\n    // flip the variation if required\n    const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n    const flippedVariation =\n      !!options.flipVariations &&\n      ((isVertical && variation === 'start' && overflowsLeft) ||\n        (isVertical && variation === 'end' && overflowsRight) ||\n        (!isVertical && variation === 'start' && overflowsTop) ||\n        (!isVertical && variation === 'end' && overflowsBottom));\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = {\n        ...data.offsets.popper,\n        ...getPopperOffsets(\n          data.instance.popper,\n          data.offsets.reference,\n          data.placement\n        ),\n      };\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n","/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function keepTogether(data) {\n  const { popper, reference } = data.offsets;\n  const placement = data.placement.split('-')[0];\n  const floor = Math.floor;\n  const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  const side = isVertical ? 'right' : 'bottom';\n  const opSide = isVertical ? 'left' : 'top';\n  const measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] =\n      floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n","import isNumeric from '../utils/isNumeric';\nimport getClientRect from '../utils/getClientRect';\nimport find from '../utils/find';\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nexport function toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  const split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  const value = +split[1];\n  const unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    let element;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    const rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    let size;\n    if (unit === 'vh') {\n      size = Math.max(\n        document.documentElement.clientHeight,\n        window.innerHeight || 0\n      );\n    } else {\n      size = Math.max(\n        document.documentElement.clientWidth,\n        window.innerWidth || 0\n      );\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nexport function parseOffset(\n  offset,\n  popperOffsets,\n  referenceOffsets,\n  basePlacement\n) {\n  const offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  const useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  const fragments = offset.split(/(\\+|\\-)/).map(frag => frag.trim());\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  const divider = fragments.indexOf(\n    find(fragments, frag => frag.search(/,|\\s/) !== -1)\n  );\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn(\n      'Offsets separated by white space(s) are deprecated, use a comma (,) instead.'\n    );\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  const splitRegex = /\\s*,\\s*|\\s+/;\n  let ops = divider !== -1\n    ? [\n        fragments\n          .slice(0, divider)\n          .concat([fragments[divider].split(splitRegex)[0]]),\n        [fragments[divider].split(splitRegex)[1]].concat(\n          fragments.slice(divider + 1)\n        ),\n      ]\n    : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map((op, index) => {\n    // Most of the units rely on the orientation of the popper\n    const measurement = (index === 1 ? !useHeight : useHeight)\n      ? 'height'\n      : 'width';\n    let mergeWithPrevious = false;\n    return (\n      op\n        // This aggregates any `+` or `-` sign that aren't considered operators\n        // e.g.: 10 + +5 => [10, +, +5]\n        .reduce((a, b) => {\n          if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n            a[a.length - 1] = b;\n            mergeWithPrevious = true;\n            return a;\n          } else if (mergeWithPrevious) {\n            a[a.length - 1] += b;\n            mergeWithPrevious = false;\n            return a;\n          } else {\n            return a.concat(b);\n          }\n        }, [])\n        // Here we convert the string values into number values (in px)\n        .map(str => toValue(str, measurement, popperOffsets, referenceOffsets))\n    );\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach((op, index) => {\n    op.forEach((frag, index2) => {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nexport default function offset(data, { offset }) {\n  const { placement, offsets: { popper, reference } } = data;\n  const basePlacement = placement.split('-')[0];\n\n  let offsets;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n","import getOffsetParent from '../utils/getOffsetParent';\nimport getBoundaries from '../utils/getBoundaries';\nimport getSupportedPropertyName from '../utils/getSupportedPropertyName';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function preventOverflow(data, options) {\n  let boundariesElement =\n    options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  const transformProp = getSupportedPropertyName('transform');\n  const popperStyles = data.instance.popper.style; // assignment to help minification\n  const { top, left, [transformProp]: transform } = popperStyles;\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  const boundaries = getBoundaries(\n    data.instance.popper,\n    data.instance.reference,\n    options.padding,\n    boundariesElement,\n    data.positionFixed\n  );\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  const order = options.priority;\n  let popper = data.offsets.popper;\n\n  const check = {\n    primary(placement) {\n      let value = popper[placement];\n      if (\n        popper[placement] < boundaries[placement] &&\n        !options.escapeWithReference\n      ) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return { [placement]: value };\n    },\n    secondary(placement) {\n      const mainSide = placement === 'right' ? 'left' : 'top';\n      let value = popper[mainSide];\n      if (\n        popper[placement] > boundaries[placement] &&\n        !options.escapeWithReference\n      ) {\n        value = Math.min(\n          popper[mainSide],\n          boundaries[placement] -\n            (placement === 'right' ? popper.width : popper.height)\n        );\n      }\n      return { [mainSide]: value };\n    },\n  };\n\n  order.forEach(placement => {\n    const side =\n      ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = { ...popper, ...check[side](placement) };\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n","/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function shift(data) {\n  const placement = data.placement;\n  const basePlacement = placement.split('-')[0];\n  const shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    const { reference, popper } = data.offsets;\n    const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    const side = isVertical ? 'left' : 'top';\n    const measurement = isVertical ? 'width' : 'height';\n\n    const shiftOffsets = {\n      start: { [side]: reference[side] },\n      end: {\n        [side]: reference[side] + reference[measurement] - popper[measurement],\n      },\n    };\n\n    data.offsets.popper = { ...popper, ...shiftOffsets[shiftvariation] };\n  }\n\n  return data;\n}\n","import isModifierRequired from '../utils/isModifierRequired';\nimport find from '../utils/find';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  const refRect = data.offsets.reference;\n  const bound = find(\n    data.instance.modifiers,\n    modifier => modifier.name === 'preventOverflow'\n  ).boundaries;\n\n  if (\n    refRect.bottom < bound.top ||\n    refRect.left > bound.right ||\n    refRect.top > bound.bottom ||\n    refRect.right < bound.left\n  ) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n","import getClientRect from '../utils/getClientRect';\nimport getOppositePlacement from '../utils/getOppositePlacement';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function inner(data) {\n  const placement = data.placement;\n  const basePlacement = placement.split('-')[0];\n  const { popper, reference } = data.offsets;\n  const isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  const subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] =\n    reference[basePlacement] -\n    (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n","import applyStyle, { applyStyleOnLoad } from './applyStyle';\nimport computeStyle from './computeStyle';\nimport arrow from './arrow';\nimport flip from './flip';\nimport keepTogether from './keepTogether';\nimport offset from './offset';\nimport preventOverflow from './preventOverflow';\nimport shift from './shift';\nimport hide from './hide';\nimport inner from './inner';\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nexport default {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift,\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0,\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\"  or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent',\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether,\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]',\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner,\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide,\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right',\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined,\n  },\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n","import modifiers from '../modifiers/index';\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nexport default {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: () => {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: () => {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers,\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n","// Utils\nimport debounce from './utils/debounce';\nimport isFunction from './utils/isFunction';\n\n// Methods\nimport update from './methods/update';\nimport destroy from './methods/destroy';\nimport enableEventListeners from './methods/enableEventListeners';\nimport disableEventListeners from './methods/disableEventListeners';\nimport Defaults from './methods/defaults';\nimport placements from './methods/placements';\n\nexport default class Popper {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {HTMLElement|referenceObject} reference - The reference element used to position the popper\n   * @param {HTMLElement} popper - The HTML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  constructor(reference, popper, options = {}) {\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = { ...Popper.Defaults, ...options };\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: [],\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys({\n      ...Popper.Defaults.modifiers,\n      ...options.modifiers,\n    }).forEach(name => {\n      this.options.modifiers[name] = {\n        // If it's a built-in modifier, use it as base\n        ...(Popper.Defaults.modifiers[name] || {}),\n        // If there are custom options, override and merge with default ones\n        ...(options.modifiers ? options.modifiers[name] : {}),\n      };\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers)\n      .map(name => ({\n        name,\n        ...this.options.modifiers[name],\n      }))\n      // sort the modifiers by order\n      .sort((a, b) => a.order - b.order);\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(modifierOptions => {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(\n          this.reference,\n          this.popper,\n          this.options,\n          modifierOptions,\n          this.state\n        );\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    const eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n  update() {\n    return update.call(this);\n  }\n  destroy() {\n    return destroy.call(this);\n  }\n  enableEventListeners() {\n    return enableEventListeners.call(this);\n  }\n  disableEventListeners() {\n    return disableEventListeners.call(this);\n  }\n\n  /**\n   * Schedules an update. It will run on the next UI update available.\n   * @method scheduleUpdate\n   * @memberof Popper\n   */\n  scheduleUpdate = () => requestAnimationFrame(this.update);\n\n  /**\n   * Collection of utilities useful when writing custom modifiers.\n   * Starting from version 1.7, this method is available only if you\n   * include `popper-utils.js` before `popper.js`.\n   *\n   * **DEPRECATION**: This way to access PopperUtils is deprecated\n   * and will be removed in v2! Use the PopperUtils module directly instead.\n   * Due to the high instability of the methods contained in Utils, we can't\n   * guarantee them to follow semver. Use them at your own risk!\n   * @static\n   * @private\n   * @type {Object}\n   * @deprecated since version 1.8\n   * @member Utils\n   * @memberof Popper\n   */\n  static Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\n\n  static placements = placements;\n\n  static Defaults = Defaults;\n}\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n","export let Defaults = {\n  a11y: true,\n  content: '',\n  placement: 'top',\n  livePlacement: true,\n  trigger: 'mouseenter focus',\n  hideOnClick: true,\n  animation: 'shift-away',\n  animateFill: true,\n  arrow: false,\n  delay: [0, 20],\n  duration: [325, 275],\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  theme: 'dark',\n  size: 'regular',\n  distance: 10,\n  offset: 0,\n  multiple: false,\n  followCursor: false,\n  inertia: false,\n  updateDuration: 200,\n  sticky: false,\n  appendTo: () => document.body,\n  zIndex: 9999,\n  touchHold: false,\n  performance: false,\n  flip: true,\n  flipBehavior: 'flip',\n  arrowType: 'sharp',\n  arrowTransform: '',\n  target: '',\n  allowHTML: true,\n  showOnInit: false,\n  popperOptions: {},\n  lazy: true,\n  touch: true,\n  wait: null,\n  shouldPopperHideOnBlur: () => true,\n  onShow() {},\n  onShown() {},\n  onHide() {},\n  onHidden() {},\n  onMount() {}\n}\n\nexport const setDefaults = partialDefaults => {\n  Defaults = { ...Defaults, ...partialDefaults }\n}\n\n/**\n * If the set() method encounters one of these, the popperInstance must be\n * recreated\n */\nexport const POPPER_INSTANCE_RELATED_PROPS = [\n  'placement',\n  'popperOptions',\n  'flip',\n  'flipBehavior',\n  'distance',\n  'offset'\n]\n","export const Selectors = {\n  POPPER: '.tippy-popper',\n  TOOLTIP: '.tippy-tooltip',\n  CONTENT: '.tippy-content',\n  BACKDROP: '.tippy-backdrop',\n  ARROW: '.tippy-arrow',\n  ROUND_ARROW: '.tippy-roundarrow'\n}\n","import { Selectors } from './selectors'\nimport { Defaults } from './defaults'\n\n/**\n * Firefox extensions doesn't allow 'innerHTML' to be set but we can trick it\n * + aid for minifiers not to remove the trick\n */\nconst FF_EXTENSION_TRICK = { x: true }\n\n/**\n * Determines if the runtime is a browser\n */\nexport const isBrowser = typeof window !== 'undefined'\n\n/**\n * Determines if the browser is supported\n */\nexport const isBrowserSupported = isBrowser && 'MutationObserver' in window\n\n/**\n * Injects a string of CSS styles to the style node in the document head\n */\nexport const injectCSS = css => {\n  if (isBrowserSupported) {\n    const style = document.createElement('style')\n    style.type = 'text/css'\n    style.textContent = css\n    document.head.insertBefore(style, document.head.firstChild)\n  }\n}\n\n/**\n * Ponyfill for Array.from; converts iterable values to an array\n */\nexport const toArray = value => [].slice.call(value)\n\n/**\n * Sets the content of a tooltip\n */\nexport const setContent = (contentEl, props) => {\n  if (props.content instanceof Element) {\n    setInnerHTML(contentEl, '')\n    contentEl.appendChild(props.content)\n  } else {\n    contentEl[props.allowHTML ? 'innerHTML' : 'textContent'] = props.content\n  }\n}\n\n/**\n * Determines if an element can receive focus\n */\nexport const elementCanReceiveFocus = el =>\n  el instanceof Element\n    ? matches.call(\n        el,\n        'a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]'\n      ) && !el.hasAttribute('disabled')\n    : true\n\n/**\n * Applies a transition duration to a list of elements\n */\nexport const applyTransitionDuration = (els, value) => {\n  els.filter(Boolean).forEach(el => {\n    el.style.transitionDuration = `${value}ms`\n  })\n}\n\n/**\n * Returns the child elements of a popper element\n */\nexport const getChildren = popper => {\n  const select = s => popper.querySelector(s)\n  return {\n    tooltip: select(Selectors.TOOLTIP),\n    backdrop: select(Selectors.BACKDROP),\n    content: select(Selectors.CONTENT),\n    arrow: select(Selectors.ARROW) || select(Selectors.ROUND_ARROW)\n  }\n}\n\n/**\n * Determines if a value is a plain object\n */\nexport const isPlainObject = value =>\n  ({}.toString.call(value) === '[object Object]')\n\n/**\n * Creates and returns a div element\n */\nexport const div = () => document.createElement('div')\n\n/**\n * Sets the innerHTML of an element while tricking linters & minifiers\n */\nexport const setInnerHTML = (el, html) => {\n  el[FF_EXTENSION_TRICK.x && 'innerHTML'] =\n    html instanceof Element ? html[FF_EXTENSION_TRICK.x && 'innerHTML'] : html\n}\n\n/**\n * Returns an array of elements based on the value\n */\nexport const getArrayOfElements = value => {\n  if (value instanceof Element || isPlainObject(value)) {\n    return [value]\n  }\n  if (value instanceof NodeList) {\n    return toArray(value)\n  }\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  try {\n    return toArray(document.querySelectorAll(value))\n  } catch (e) {\n    return []\n  }\n}\n\n/**\n * Determines if a value is numeric\n */\nexport const isNumeric = value => !isNaN(value) && !isNaN(parseFloat(value))\n\n/**\n * Returns a value at a given index depending on if it's an array or number\n */\nexport const getValue = (value, index, defaultValue) => {\n  if (Array.isArray(value)) {\n    const v = value[index]\n    return v == null ? defaultValue : v\n  }\n  return value\n}\n\n/**\n * Creates an arrow element and returns it\n */\nexport const createArrowElement = arrowType => {\n  const arrow = div()\n  if (arrowType === 'round') {\n    arrow.className = 'tippy-roundarrow'\n    setInnerHTML(\n      arrow,\n      '<svg viewBox=\"0 0 24 8\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3 8s2.021-.015 5.253-4.218C9.584 2.051 10.797 1.007 12 1c1.203-.007 2.416 1.035 3.761 2.782C19.012 8.005 21 8 21 8H3z\"/></svg>'\n    )\n  } else {\n    arrow.className = 'tippy-arrow'\n  }\n  return arrow\n}\n\n/**\n * Creates a backdrop element and returns it\n */\nexport const createBackdropElement = () => {\n  const backdrop = div()\n  backdrop.className = 'tippy-backdrop'\n  backdrop.setAttribute('data-state', 'hidden')\n  return backdrop\n}\n\n/**\n * Adds interactive attributes\n */\nexport const addInteractive = (popper, tooltip) => {\n  popper.setAttribute('tabindex', '-1')\n  tooltip.setAttribute('data-interactive', '')\n}\n\n/**\n * Removes interactive attributes\n */\nexport const removeInteractive = (popper, tooltip) => {\n  popper.removeAttribute('tabindex')\n  tooltip.removeAttribute('data-interactive')\n}\n\n/**\n * Adds inertia attribute\n */\nexport const addInertia = tooltip => {\n  tooltip.setAttribute('data-inertia', '')\n}\n\n/**\n * Removes inertia attribute\n */\nexport const removeInertia = tooltip => {\n  tooltip.removeAttribute('data-inertia')\n}\n\n/**\n * Constructs the popper element and returns it\n */\nexport const createPopperElement = (id, props) => {\n  const popper = div()\n  popper.className = 'tippy-popper'\n  popper.setAttribute('role', 'tooltip')\n  popper.id = `tippy-${id}`\n  popper.style.zIndex = props.zIndex\n\n  const tooltip = div()\n  tooltip.className = 'tippy-tooltip'\n  tooltip.setAttribute('data-size', props.size)\n  tooltip.setAttribute('data-animation', props.animation)\n  tooltip.setAttribute('data-state', 'hidden')\n  props.theme.split(' ').forEach(t => {\n    tooltip.classList.add(t + '-theme')\n  })\n\n  const content = div()\n  content.className = 'tippy-content'\n  content.setAttribute('data-state', 'hidden')\n\n  if (props.interactive) {\n    addInteractive(popper, tooltip)\n  }\n\n  if (props.arrow) {\n    tooltip.appendChild(createArrowElement(props.arrowType))\n  }\n\n  if (props.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  }\n\n  if (props.inertia) {\n    tooltip.setAttribute('data-inertia', '')\n  }\n\n  setContent(content, props)\n\n  tooltip.appendChild(content)\n  popper.appendChild(tooltip)\n\n  popper.addEventListener('focusout', e => {\n    if (\n      e.relatedTarget &&\n      popper._tippy &&\n      !closestCallback(e.relatedTarget, el => el === popper) &&\n      e.relatedTarget !== popper._tippy.reference &&\n      popper._tippy.props.shouldPopperHideOnBlur(e)\n    ) {\n      popper._tippy.hide()\n    }\n  })\n\n  return popper\n}\n\n/**\n * Updates the popper element based on the new props\n */\nexport const updatePopperElement = (popper, prevProps, nextProps) => {\n  const { tooltip, content, backdrop, arrow } = getChildren(popper)\n\n  popper.style.zIndex = nextProps.zIndex\n  tooltip.setAttribute('data-size', nextProps.size)\n  tooltip.setAttribute('data-animation', nextProps.animation)\n\n  if (prevProps.content !== nextProps.content) {\n    setContent(content, nextProps)\n  }\n\n  // animateFill\n  if (!prevProps.animateFill && nextProps.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  } else if (prevProps.animateFill && !nextProps.animateFill) {\n    tooltip.removeChild(backdrop)\n    tooltip.removeAttribute('data-animatefill')\n  }\n\n  // arrow\n  if (!prevProps.arrow && nextProps.arrow) {\n    tooltip.appendChild(createArrowElement(nextProps.arrowType))\n  } else if (prevProps.arrow && !nextProps.arrow) {\n    tooltip.removeChild(arrow)\n  }\n\n  // arrowType\n  if (\n    prevProps.arrow &&\n    nextProps.arrow &&\n    prevProps.arrowType !== nextProps.arrowType\n  ) {\n    tooltip.replaceChild(createArrowElement(nextProps.arrowType), arrow)\n  }\n\n  // interactive\n  if (!prevProps.interactive && nextProps.interactive) {\n    addInteractive(popper, tooltip)\n  } else if (prevProps.interactive && !nextProps.interactive) {\n    removeInteractive(popper, tooltip)\n  }\n\n  // inertia\n  if (!prevProps.inertia && nextProps.inertia) {\n    addInertia(tooltip)\n  } else if (prevProps.inertia && !nextProps.inertia) {\n    removeInertia(tooltip)\n  }\n\n  // theme\n  if (prevProps.theme !== nextProps.theme) {\n    prevProps.theme.split(' ').forEach(theme => {\n      tooltip.classList.remove(theme + '-theme')\n    })\n    nextProps.theme.split(' ').forEach(theme => {\n      tooltip.classList.add(theme + '-theme')\n    })\n  }\n}\n\n/**\n * Hides all visible poppers on the document\n */\nexport const hideAllPoppers = excludeTippy => {\n  toArray(document.querySelectorAll(Selectors.POPPER)).forEach(popper => {\n    const tip = popper._tippy\n    if (\n      tip &&\n      tip.props.hideOnClick === true &&\n      (!excludeTippy || popper !== excludeTippy.popper)\n    ) {\n      tip.hide()\n    }\n  })\n}\n\n/**\n * Returns an object of optional props from data-tippy-* attributes\n */\nexport const getDataAttributeOptions = reference =>\n  Object.keys(Defaults).reduce((acc, key) => {\n    const valueAsString = (\n      reference.getAttribute(`data-tippy-${key}`) || ''\n    ).trim()\n\n    if (!valueAsString) {\n      return acc\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString\n    } else if (valueAsString === 'true') {\n      acc[key] = true\n    } else if (valueAsString === 'false') {\n      acc[key] = false\n    } else if (isNumeric(valueAsString)) {\n      acc[key] = Number(valueAsString)\n    } else if (valueAsString[0] === '[' || valueAsString[0] === '{') {\n      acc[key] = JSON.parse(valueAsString)\n    } else {\n      acc[key] = valueAsString\n    }\n\n    return acc\n  }, {})\n\n/**\n * Polyfills the virtual reference (plain object) with needed props\n * Mutating because DOM elements are mutated, adds _tippy property\n */\nexport const polyfillVirtualReferenceProps = virtualReference => {\n  const polyfills = {\n    isVirtual: true,\n    attributes: virtualReference.attributes || {},\n    setAttribute(key, value) {\n      virtualReference.attributes[key] = value\n    },\n    getAttribute(key) {\n      return virtualReference.attributes[key]\n    },\n    removeAttribute(key) {\n      delete virtualReference.attributes[key]\n    },\n    hasAttribute(key) {\n      return key in virtualReference.attributes\n    },\n    addEventListener() {},\n    removeEventListener() {},\n    classList: {\n      classNames: {},\n      add(key) {\n        virtualReference.classList.classNames[key] = true\n      },\n      remove(key) {\n        delete virtualReference.classList.classNames[key]\n      },\n      contains(key) {\n        return key in virtualReference.classList.classNames\n      }\n    }\n  }\n\n  for (const key in polyfills) {\n    virtualReference[key] = polyfills[key]\n  }\n\n  return virtualReference\n}\n\n/**\n * Ponyfill for Element.prototype.matches\n */\nexport const matches = (() => {\n  if (isBrowser) {\n    const e = Element.prototype\n    return (\n      e.matches ||\n      e.matchesSelector ||\n      e.webkitMatchesSelector ||\n      e.mozMatchesSelector ||\n      e.msMatchesSelector\n    )\n  }\n})()\n\n/**\n * Ponyfill for Element.prototype.closest\n */\nexport const closest = (element, parentSelector) =>\n  (\n    Element.prototype.closest ||\n    function(selector) {\n      let el = this\n      while (el) {\n        if (matches.call(el, selector)) return el\n        el = el.parentElement\n      }\n    }\n  ).call(element, parentSelector)\n\n/**\n * Works like Element.prototype.closest, but uses a callback instead\n */\nexport const closestCallback = (element, callback) => {\n  while (element) {\n    if (callback(element)) return element\n    element = element.parentElement\n  }\n}\n\n/**\n * Focuses an element while preventing a scroll jump if it's not within the viewport\n */\nexport const focus = el => {\n  const x = window.scrollX || window.pageXOffset\n  const y = window.scrollY || window.pageYOffset\n  el.focus()\n  scroll(x, y)\n}\n\n/**\n * Triggers reflow\n */\nexport const reflow = popper => {\n  void popper.offsetHeight\n}\n\n/**\n * Transforms the x/y axis ased on the placement\n */\nexport const transformAxisBasedOnPlacement = (axis, isVertical) =>\n  (isVertical\n    ? axis\n    : {\n        X: 'Y',\n        Y: 'X'\n      }[axis]) || ''\n\n/**\n * Transforms the scale/translate numbers based on the placement\n */\nexport const transformNumbersBasedOnPlacement = (\n  type,\n  numbers,\n  isVertical,\n  isReverse\n) => {\n  /**\n   * Avoid destructuring because a large boilerplate function is generated\n   * by Babel\n   */\n  const a = numbers[0]\n  const b = numbers[1]\n\n  if (!a && !b) {\n    return ''\n  }\n\n  const transforms = {\n    scale: (() => {\n      if (!b) {\n        return `${a}`\n      } else {\n        return isVertical ? `${a}, ${b}` : `${b}, ${a}`\n      }\n    })(),\n    translate: (() => {\n      if (!b) {\n        return isReverse ? `${-a}px` : `${a}px`\n      } else {\n        if (isVertical) {\n          return isReverse ? `${a}px, ${-b}px` : `${a}px, ${b}px`\n        } else {\n          return isReverse ? `${-b}px, ${a}px` : `${b}px, ${a}px`\n        }\n      }\n    })()\n  }\n\n  return transforms[type]\n}\n\n/**\n * Returns the axis for a CSS function (translate or scale)\n */\nexport const getTransformAxis = (str, cssFunction) => {\n  const match = str.match(new RegExp(cssFunction + '([XY])'))\n  return match ? match[1] : ''\n}\n\n/**\n * Returns the numbers given to the CSS function\n */\nexport const getTransformNumbers = (str, regex) => {\n  const match = str.match(regex)\n  return match ? match[1].split(',').map(parseFloat) : []\n}\n\nexport const TRANSFORM_NUMBER_RE = {\n  translate: /translateX?Y?\\(([^)]+)\\)/,\n  scale: /scaleX?Y?\\(([^)]+)\\)/\n}\n\n/**\n * Computes the arrow's transform so that it is correct for any placement\n */\nexport const computeArrowTransform = (arrow, arrowTransform) => {\n  const placement = getPopperPlacement(closest(arrow, Selectors.POPPER))\n  const isVertical = placement === 'top' || placement === 'bottom'\n  const isReverse = placement === 'right' || placement === 'bottom'\n\n  const matches = {\n    translate: {\n      axis: getTransformAxis(arrowTransform, 'translate'),\n      numbers: getTransformNumbers(\n        arrowTransform,\n        TRANSFORM_NUMBER_RE.translate\n      )\n    },\n    scale: {\n      axis: getTransformAxis(arrowTransform, 'scale'),\n      numbers: getTransformNumbers(arrowTransform, TRANSFORM_NUMBER_RE.scale)\n    }\n  }\n\n  const computedTransform = arrowTransform\n    .replace(\n      TRANSFORM_NUMBER_RE.translate,\n      `translate${transformAxisBasedOnPlacement(\n        matches.translate.axis,\n        isVertical\n      )}(${transformNumbersBasedOnPlacement(\n        'translate',\n        matches.translate.numbers,\n        isVertical,\n        isReverse\n      )})`\n    )\n    .replace(\n      TRANSFORM_NUMBER_RE.scale,\n      `scale${transformAxisBasedOnPlacement(\n        matches.scale.axis,\n        isVertical\n      )}(${transformNumbersBasedOnPlacement(\n        'scale',\n        matches.scale.numbers,\n        isVertical,\n        isReverse\n      )})`\n    )\n\n  arrow.style[\n    typeof document.body.style.transform !== 'undefined'\n      ? 'transform'\n      : 'webkitTransform'\n  ] = computedTransform\n}\n\n/**\n * Sets the visibility state of a popper so it can begin to transition in or out\n */\nexport const setVisibilityState = (els, type) => {\n  els.filter(Boolean).forEach(el => {\n    el.setAttribute('data-state', type)\n  })\n}\n\n/**\n * Runs the callback after the popper's position has been updated\n * update() is debounced with setTimeout(0) and scheduleUpdate() is\n * update() wrapped in requestAnimationFrame().\n */\nexport const afterPopperPositionUpdates = (popperInstance, callback) => {\n  const { popper, options } = popperInstance\n  const { onCreate, onUpdate } = options\n\n  options.onCreate = options.onUpdate = () => {\n    reflow(popper)\n    callback()\n    onUpdate()\n    options.onCreate = onCreate\n    options.onUpdate = onUpdate\n  }\n}\n\n/**\n * Defers a function's execution until the call stack has cleared\n */\nexport const defer = fn => {\n  setTimeout(fn, 1)\n}\n\n/**\n * Determines if the mouse cursor is outside of the popper's interactive border\n * region\n */\nexport const isCursorOutsideInteractiveBorder = (\n  popperPlacement,\n  popperRect,\n  event,\n  props\n) => {\n  if (!popperPlacement) {\n    return true\n  }\n\n  const { clientX: x, clientY: y } = event\n  const { interactiveBorder, distance } = props\n\n  const exceedsTop =\n    popperRect.top - y >\n    (popperPlacement === 'top'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsBottom =\n    y - popperRect.bottom >\n    (popperPlacement === 'bottom'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsLeft =\n    popperRect.left - x >\n    (popperPlacement === 'left'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsRight =\n    x - popperRect.right >\n    (popperPlacement === 'right'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight\n}\n\n/**\n * Returns the distance offset, taking into account the default offset due to\n * the transform: translate() rule in CSS\n */\nexport const getOffsetDistanceInPx = (distance, defaultDistance) =>\n  -(distance - defaultDistance) + 'px'\n\n/**\n * Returns the popper's placement, ignoring shifting (top-start, etc)\n */\nexport const getPopperPlacement = popper => {\n  const fullPlacement = popper.getAttribute('x-placement')\n  return fullPlacement ? fullPlacement.split('-')[0] : ''\n}\n\n/**\n * Evaluates props\n */\nexport const evaluateProps = (reference, props) => {\n  const out = {\n    ...props,\n    ...(props.performance ? {} : getDataAttributeOptions(reference))\n  }\n\n  if (out.arrow) {\n    out.animateFill = false\n  }\n\n  if (typeof out.appendTo === 'function') {\n    out.appendTo = props.appendTo(reference)\n  }\n\n  if (typeof out.content === 'function') {\n    out.content = props.content(reference)\n  }\n\n  return out\n}\n\n/**\n * Add/remove transitionend listener from tooltip\n */\nexport const toggleTransitionEndListener = (tooltip, action, listener) => {\n  tooltip[action + 'EventListener']('transitionend', listener)\n}\n\n/**\n * Debounce utility\n */\nexport const debounce = (fn, ms) => {\n  let timeoutId\n  return function() {\n    clearTimeout(timeoutId)\n    timeoutId = setTimeout(() => fn.apply(this, arguments), ms)\n  }\n}\n\n/**\n * Validates an object of options with the valid default props object\n */\nexport const validateOptions = (options, props) => {\n  for (const option in options || {}) {\n    if (!(option in props)) {\n      throw Error(`[tippy]: \\`${option}\\` is not a valid option`)\n    }\n  }\n}\n","import { Selectors } from './selectors'\nimport {\n  isBrowser,\n  hideAllPoppers,\n  closest,\n  closestCallback,\n  toArray\n} from './utils'\n\nconst nav = isBrowser ? navigator : {}\nconst win = isBrowser ? window : {}\nexport let isIE = /MSIE |Trident\\//.test(nav.userAgent)\nexport let isIOS = /iPhone|iPad|iPod/.test(nav.platform) && !win.MSStream\nexport let supportsTouch = 'ontouchstart' in win\nexport let isUsingTouch = false\n\nexport const onDocumentTouch = () => {\n  if (isUsingTouch) {\n    return\n  }\n\n  isUsingTouch = true\n\n  if (isIOS) {\n    document.body.classList.add('tippy-iOS')\n  }\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove)\n  }\n}\n\nlet lastMouseMoveTime = 0\nexport const onDocumentMouseMove = () => {\n  const now = performance.now()\n\n  // Chrome 60+ is 1 mousemove per animation frame, use 20ms time difference\n  if (now - lastMouseMoveTime < 20) {\n    isUsingTouch = false\n    document.removeEventListener('mousemove', onDocumentMouseMove)\n    if (!isIOS) {\n      document.body.classList.remove('tippy-iOS')\n    }\n  }\n\n  lastMouseMoveTime = now\n}\n\nexport const onDocumentClick = ({ target }) => {\n  // Simulated events dispatched on the document\n  if (!(target instanceof Element)) {\n    return hideAllPoppers()\n  }\n\n  // Clicked on an interactive popper\n  const popper = closest(target, Selectors.POPPER)\n  if (popper && popper._tippy && popper._tippy.props.interactive) {\n    return\n  }\n\n  // Clicked on a reference\n  const reference = closestCallback(\n    target,\n    el => el._tippy && el._tippy.reference === el\n  )\n  if (reference) {\n    const tip = reference._tippy\n    const isClickTrigger = tip.props.trigger.indexOf('click') > -1\n\n    if (isUsingTouch || isClickTrigger) {\n      return hideAllPoppers(tip)\n    }\n\n    if (tip.props.hideOnClick !== true || isClickTrigger) {\n      return\n    }\n\n    tip.clearDelayTimeouts()\n  }\n\n  hideAllPoppers()\n}\n\nexport const onWindowBlur = () => {\n  const { activeElement } = document\n  if (activeElement && activeElement.blur && activeElement._tippy) {\n    activeElement.blur()\n  }\n}\n\nexport const onWindowResize = () => {\n  toArray(document.querySelectorAll(Selectors.POPPER)).forEach(popper => {\n    const tippyInstance = popper._tippy\n    if (!tippyInstance.props.livePlacement) {\n      tippyInstance.popperInstance.scheduleUpdate()\n    }\n  })\n}\n\n/**\n * Adds the needed global event listeners\n */\nexport default function bindEventListeners(useCapture) {\n  document.addEventListener('click', onDocumentClick, useCapture)\n  document.addEventListener('touchstart', onDocumentTouch)\n  window.addEventListener('blur', onWindowBlur)\n  window.addEventListener('resize', onWindowResize)\n\n  if (\n    !supportsTouch &&\n    (navigator.maxTouchPoints || navigator.msMaxTouchPoints)\n  ) {\n    document.addEventListener('pointerdown', onDocumentTouch)\n  }\n}\n","import Popper from 'popper.js'\nimport { Defaults, POPPER_INSTANCE_RELATED_PROPS } from './defaults'\nimport { Selectors } from './selectors'\nimport { isUsingTouch, isIE, supportsTouch } from './bindGlobalEventListeners'\nimport {\n  createPopperElement,\n  elementCanReceiveFocus,\n  getChildren,\n  computeArrowTransform,\n  afterPopperPositionUpdates,\n  getPopperPlacement,\n  getOffsetDistanceInPx,\n  getValue,\n  closest,\n  closestCallback,\n  isCursorOutsideInteractiveBorder,\n  applyTransitionDuration,\n  setVisibilityState,\n  updatePopperElement,\n  evaluateProps,\n  defer,\n  toArray,\n  focus,\n  toggleTransitionEndListener,\n  debounce,\n  validateOptions\n} from './utils'\n\nlet idCounter = 1\n\nexport default function createTippy(reference, collectionProps) {\n  const props = evaluateProps(reference, collectionProps)\n\n  // If the reference shouldn't have multiple tippys, return null early\n  if (!props.multiple && reference._tippy) {\n    return null\n  }\n\n  /* =======================  Private members  ======================= */\n  let popperMutationObserver = null\n  let lastTriggerEvent = {}\n  let lastMouseMoveEvent = null\n  let showTimeoutId = 0\n  let hideTimeoutId = 0\n  let isPreparingToShow = false\n  let transitionEndListener = () => {}\n  let listeners = []\n  let referenceJustProgrammaticallyFocused = false\n  let firstPopperInstanceInit = false\n  let debouncedOnMouseMove =\n    props.interactiveDebounce > 0\n      ? debounce(onMouseMove, props.interactiveDebounce)\n      : onMouseMove\n\n  /* =======================  Public members  ======================= */\n  const id = idCounter++\n\n  const popper = createPopperElement(id, props)\n\n  const popperChildren = getChildren(popper)\n\n  const state = {\n    isEnabled: true,\n    isVisible: false,\n    isDestroyed: false,\n    isMounted: false,\n    isShown: false\n  }\n\n  const popperInstance = null\n\n  //  tippy instance\n  const tip = {\n    // properties\n    id,\n    reference,\n    popper,\n    popperChildren,\n    popperInstance,\n    props,\n    state,\n    // methods\n    clearDelayTimeouts,\n    set,\n    setContent,\n    show,\n    hide,\n    enable,\n    disable,\n    destroy\n  }\n\n  addTriggersToReference()\n\n  reference.addEventListener('click', onReferenceClick)\n\n  if (!props.lazy) {\n    tip.popperInstance = createPopperInstance()\n    tip.popperInstance.disableEventListeners()\n  }\n\n  if (props.showOnInit) {\n    /**\n     * Firefox has a bug where the tooltip will be placed incorrectly due to\n     * strange layout on load, `setTimeout` gives the layout time to adjust\n     * properly\n     */\n    setTimeout(prepareShow, 20)\n  }\n\n  // Ensure the reference element can receive focus (and is not a delegate)\n  if (props.a11y && !props.target && !elementCanReceiveFocus(reference)) {\n    reference.setAttribute('tabindex', '0')\n  }\n\n  // Install shortcuts\n  reference._tippy = tip\n  popper._tippy = tip\n\n  return tip\n\n  /* =======================  Private methods  ======================= */\n  /**\n   * If the reference was clicked, it also receives focus\n   */\n  function onReferenceClick() {\n    defer(() => {\n      referenceJustProgrammaticallyFocused = false\n    })\n  }\n\n  /**\n   * Positions the virtual reference near the mouse cursor\n   */\n  function positionVirtualReferenceNearCursor(event) {\n    const { clientX, clientY } = (lastMouseMoveEvent = event)\n\n    if (!tip.popperInstance) {\n      return\n    }\n\n    const rect = tip.reference.getBoundingClientRect()\n    const { followCursor } = tip.props\n    const isHorizontal = followCursor === 'horizontal'\n    const isVertical = followCursor === 'vertical'\n\n    tip.popperInstance.reference = {\n      getBoundingClientRect: () => ({\n        width: 0,\n        height: 0,\n        top: isHorizontal ? rect.top : clientY,\n        bottom: isHorizontal ? rect.bottom : clientY,\n        left: isVertical ? rect.left : clientX,\n        right: isVertical ? rect.right : clientX\n      }),\n      clientWidth: 0,\n      clientHeight: 0\n    }\n\n    tip.popperInstance.scheduleUpdate()\n  }\n\n  /**\n   * Creates the tippy instance for a delegate when it's been triggered\n   */\n  function createDelegateChildTippy(event) {\n    const targetEl = closest(event.target, tip.props.target)\n    if (targetEl && !targetEl._tippy) {\n      createTippy(targetEl, {\n        ...tip.props,\n        target: '',\n        showOnInit: true\n      })\n      prepareShow(event)\n    }\n  }\n\n  /**\n   * Setup before show() is invoked (delays, etc.)\n   */\n  function prepareShow(event) {\n    clearDelayTimeouts()\n\n    if (tip.state.isVisible) {\n      return\n    }\n\n    // Is a delegate, create an instance for the child target\n    if (tip.props.target) {\n      return createDelegateChildTippy(event)\n    }\n\n    isPreparingToShow = true\n\n    if (tip.props.wait) {\n      return tip.props.wait(tip, event)\n    }\n\n    /**\n     * If the tooltip has a delay, we need to be listening to the mousemove as\n     * soon as the trigger event is fired so that it's in the correct position\n     * upon mount\n     */\n    if (hasFollowCursorBehavior()) {\n      if (popperChildren.arrow) {\n        popperChildren.arrow.style.margin = '0'\n      }\n      document.addEventListener('mousemove', positionVirtualReferenceNearCursor)\n    }\n\n    const delay = getValue(tip.props.delay, 0, Defaults.delay)\n\n    if (delay) {\n      showTimeoutId = setTimeout(() => {\n        show()\n      }, delay)\n    } else {\n      show()\n    }\n  }\n\n  /**\n   * Setup before hide() is invoked (delays, etc.)\n   */\n  function prepareHide() {\n    clearDelayTimeouts()\n\n    if (!tip.state.isVisible) {\n      return removeFollowCursorListener()\n    }\n\n    isPreparingToShow = false\n\n    const delay = getValue(tip.props.delay, 1, Defaults.delay)\n\n    if (delay) {\n      hideTimeoutId = setTimeout(() => {\n        if (tip.state.isVisible) {\n          hide()\n        }\n      }, delay)\n    } else {\n      hide()\n    }\n  }\n\n  /**\n   * Removes the follow cursor listener\n   */\n  function removeFollowCursorListener() {\n    document.removeEventListener(\n      'mousemove',\n      positionVirtualReferenceNearCursor\n    )\n    lastMouseMoveEvent = null\n  }\n\n  /**\n   * Cleans up old listeners\n   */\n  function cleanupOldMouseMoveListeners() {\n    document.body.removeEventListener('mouseleave', prepareHide)\n    document.removeEventListener('mousemove', debouncedOnMouseMove)\n  }\n\n  /**\n   * Event listener invoked upon trigger\n   */\n  function onTrigger(event) {\n    if (!tip.state.isEnabled || isEventListenerStopped(event)) {\n      return\n    }\n\n    if (!tip.state.isVisible) {\n      lastTriggerEvent = event\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      tip.props.hideOnClick !== false &&\n      tip.state.isVisible\n    ) {\n      prepareHide()\n    } else {\n      prepareShow(event)\n    }\n  }\n\n  /**\n   * Event listener used for interactive tooltips to detect when they should hide\n   */\n  function onMouseMove(event) {\n    const referenceTheCursorIsOver = closestCallback(\n      event.target,\n      el => el._tippy\n    )\n\n    const isCursorOverPopper =\n      closest(event.target, Selectors.POPPER) === tip.popper\n    const isCursorOverReference = referenceTheCursorIsOver === tip.reference\n\n    if (isCursorOverPopper || isCursorOverReference) {\n      return\n    }\n\n    if (\n      isCursorOutsideInteractiveBorder(\n        getPopperPlacement(tip.popper),\n        tip.popper.getBoundingClientRect(),\n        event,\n        tip.props\n      )\n    ) {\n      cleanupOldMouseMoveListeners()\n      prepareHide()\n    }\n  }\n\n  /**\n   * Event listener invoked upon mouseleave\n   */\n  function onMouseLeave(event) {\n    if (isEventListenerStopped(event)) {\n      return\n    }\n\n    if (tip.props.interactive) {\n      document.body.addEventListener('mouseleave', prepareHide)\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n      return\n    }\n\n    prepareHide()\n  }\n\n  /**\n   * Event listener invoked upon blur\n   */\n  function onBlur(event) {\n    if (event.target !== tip.reference) {\n      return\n    }\n\n    if (tip.props.interactive) {\n      if (!event.relatedTarget) {\n        return\n      }\n      if (closest(event.relatedTarget, Selectors.POPPER)) {\n        return\n      }\n    }\n\n    prepareHide()\n  }\n\n  /**\n   * Event listener invoked when a child target is triggered\n   */\n  function onDelegateShow(event) {\n    if (closest(event.target, tip.props.target)) {\n      prepareShow(event)\n    }\n  }\n\n  /**\n   * Event listener invoked when a child target should hide\n   */\n  function onDelegateHide(event) {\n    if (closest(event.target, tip.props.target)) {\n      prepareHide()\n    }\n  }\n\n  /**\n   * Determines if an event listener should stop further execution due to the\n   * `touchHold` option.\n   */\n  function isEventListenerStopped(event) {\n    const isTouchEvent = event.type.indexOf('touch') > -1\n    const caseA =\n      supportsTouch && isUsingTouch && tip.props.touchHold && !isTouchEvent\n    const caseB = isUsingTouch && !tip.props.touchHold && isTouchEvent\n    return caseA || caseB\n  }\n\n  /**\n   * Creates the popper instance for the tip\n   */\n  function createPopperInstance() {\n    const { tooltip } = tip.popperChildren\n    const { popperOptions } = tip.props\n\n    const arrowSelector =\n      Selectors[tip.props.arrowType === 'round' ? 'ROUND_ARROW' : 'ARROW']\n    const arrow = tooltip.querySelector(arrowSelector)\n\n    const config = {\n      placement: tip.props.placement,\n      ...(popperOptions || {}),\n      modifiers: {\n        ...(popperOptions ? popperOptions.modifiers : {}),\n        arrow: {\n          element: arrowSelector,\n          ...(popperOptions && popperOptions.modifiers\n            ? popperOptions.modifiers.arrow\n            : {})\n        },\n        flip: {\n          enabled: tip.props.flip,\n          padding: tip.props.distance + 5 /* 5px from viewport boundary */,\n          behavior: tip.props.flipBehavior,\n          ...(popperOptions && popperOptions.modifiers\n            ? popperOptions.modifiers.flip\n            : {})\n        },\n        offset: {\n          offset: tip.props.offset,\n          ...(popperOptions && popperOptions.modifiers\n            ? popperOptions.modifiers.offset\n            : {})\n        }\n      },\n      onCreate() {\n        tooltip.style[getPopperPlacement(tip.popper)] = getOffsetDistanceInPx(\n          tip.props.distance,\n          Defaults.distance\n        )\n\n        if (arrow && tip.props.arrowTransform) {\n          computeArrowTransform(arrow, tip.props.arrowTransform)\n        }\n      },\n      onUpdate() {\n        const styles = tooltip.style\n        styles.top = ''\n        styles.bottom = ''\n        styles.left = ''\n        styles.right = ''\n        styles[getPopperPlacement(tip.popper)] = getOffsetDistanceInPx(\n          tip.props.distance,\n          Defaults.distance\n        )\n\n        if (arrow && tip.props.arrowTransform) {\n          computeArrowTransform(arrow, tip.props.arrowTransform)\n        }\n      }\n    }\n\n    /**\n     * Ensure the popper's position stays correct if its dimensions change.\n     * Use .update() over .scheduleUpdate() so there is no 1 frame flash\n     * due to async update.\n     */\n    const observer = new MutationObserver(() => {\n      tip.popperInstance.update()\n    })\n    observer.observe(tip.popper, { childList: true, subtree: true })\n    if (popperMutationObserver) {\n      popperMutationObserver.disconnect()\n    }\n    popperMutationObserver = observer\n\n    // fixes https://github.com/atomiks/tippyjs/issues/193\n    if (!firstPopperInstanceInit) {\n      firstPopperInstanceInit = true\n      tip.popper.addEventListener('mouseenter', event => {\n        if (\n          tip.props.interactive &&\n          tip.state.isVisible &&\n          lastTriggerEvent.type === 'mouseenter'\n        ) {\n          prepareShow(event)\n        }\n      })\n      tip.popper.addEventListener('mouseleave', event => {\n        if (\n          tip.props.interactive &&\n          lastTriggerEvent.type === 'mouseenter' &&\n          tip.props.interactiveDebounce === 0 &&\n          isCursorOutsideInteractiveBorder(\n            getPopperPlacement(tip.popper),\n            tip.popper.getBoundingClientRect(),\n            event,\n            tip.props\n          )\n        ) {\n          prepareHide()\n        }\n      })\n    }\n\n    return new Popper(tip.reference, tip.popper, config)\n  }\n\n  /**\n   * Mounts the tooltip to the DOM, callback to show tooltip is run **after**\n   * popper's position has updated\n   */\n  function mount(callback) {\n    if (!tip.popperInstance) {\n      tip.popperInstance = createPopperInstance()\n      if (!tip.props.livePlacement) {\n        tip.popperInstance.disableEventListeners()\n      }\n    } else {\n      if (!hasFollowCursorBehavior()) {\n        tip.popperInstance.scheduleUpdate()\n      }\n      if (tip.props.livePlacement && !hasFollowCursorBehavior()) {\n        tip.popperInstance.enableEventListeners()\n      }\n    }\n\n    /**\n     * If the instance previously had followCursor behavior, it will be\n     * positioned incorrectly if triggered by `focus` afterwards.\n     * Update the reference back to the real DOM element\n     */\n    tip.popperInstance.reference = tip.reference\n    if (hasFollowCursorBehavior()) {\n      if (tip.popperChildren.arrow) {\n        tip.popperChildren.arrow.style.margin = ''\n      }\n      const delay = getValue(tip.props.delay, 0, Defaults.delay)\n      if (lastTriggerEvent.type) {\n        positionVirtualReferenceNearCursor(\n          delay && lastMouseMoveEvent ? lastMouseMoveEvent : lastTriggerEvent\n        )\n      }\n    }\n\n    afterPopperPositionUpdates(tip.popperInstance, callback)\n\n    if (!tip.props.appendTo.contains(tip.popper)) {\n      tip.props.appendTo.appendChild(tip.popper)\n      tip.props.onMount(tip)\n      tip.state.isMounted = true\n    }\n  }\n\n  /**\n   * Determines if the instance is in `followCursor` mode\n   */\n  function hasFollowCursorBehavior() {\n    return (\n      tip.props.followCursor &&\n      !isUsingTouch &&\n      lastTriggerEvent.type !== 'focus'\n    )\n  }\n\n  /**\n   * Updates the tooltip's position on each animation frame + timeout\n   */\n  function makeSticky() {\n    applyTransitionDuration([tip.popper], isIE ? 0 : tip.props.updateDuration)\n\n    const updatePosition = () => {\n      if (tip.popperInstance) {\n        tip.popperInstance.scheduleUpdate()\n      }\n\n      if (tip.state.isMounted) {\n        requestAnimationFrame(updatePosition)\n      } else {\n        applyTransitionDuration([tip.popper], 0)\n      }\n    }\n\n    updatePosition()\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned out\n   */\n  function onTransitionedOut(duration, callback) {\n    onTransitionEnd(duration, () => {\n      if (!tip.state.isVisible && tip.props.appendTo.contains(tip.popper)) {\n        callback()\n      }\n    })\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned in\n   */\n  function onTransitionedIn(duration, callback) {\n    onTransitionEnd(duration, callback)\n  }\n\n  /**\n   * Invokes a callback once the tooltip's CSS transition ends\n   */\n  function onTransitionEnd(duration, callback) {\n    // Make callback synchronous if duration is 0\n    if (duration === 0) {\n      return callback()\n    }\n\n    const { tooltip } = tip.popperChildren\n\n    const listener = e => {\n      if (e.target === tooltip) {\n        toggleTransitionEndListener(tooltip, 'remove', listener)\n        callback()\n      }\n    }\n\n    toggleTransitionEndListener(tooltip, 'remove', transitionEndListener)\n    toggleTransitionEndListener(tooltip, 'add', listener)\n\n    transitionEndListener = listener\n  }\n\n  /**\n   * Adds an event listener to the reference\n   */\n  function on(eventType, handler, acc) {\n    tip.reference.addEventListener(eventType, handler)\n    acc.push({ eventType, handler })\n  }\n\n  /**\n   * Adds event listeners to the reference based on the `trigger` prop\n   */\n  function addTriggersToReference() {\n    listeners = tip.props.trigger\n      .trim()\n      .split(' ')\n      .reduce((acc, eventType) => {\n        if (eventType === 'manual') {\n          return acc\n        }\n\n        if (!tip.props.target) {\n          on(eventType, onTrigger, acc)\n\n          if (tip.props.touchHold) {\n            on('touchstart', onTrigger, acc)\n            on('touchend', onMouseLeave, acc)\n          }\n\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseleave', onMouseLeave, acc)\n              break\n            case 'focus':\n              on(isIE ? 'focusout' : 'blur', onBlur, acc)\n              break\n          }\n        } else {\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseover', onDelegateShow, acc)\n              on('mouseout', onDelegateHide, acc)\n              break\n            case 'focus':\n              on('focusin', onDelegateShow, acc)\n              on('focusout', onDelegateHide, acc)\n              break\n            case 'click':\n              on(eventType, onDelegateShow, acc)\n              break\n          }\n        }\n\n        return acc\n      }, [])\n  }\n\n  /**\n   * Removes event listeners from the reference\n   */\n  function removeTriggersFromReference() {\n    listeners.forEach(({ eventType, handler }) => {\n      tip.reference.removeEventListener(eventType, handler)\n    })\n  }\n\n  /* =======================  Public methods  ======================= */\n  /**\n   * Enables the instance to allow it to show or hide\n   */\n  function enable() {\n    tip.state.isEnabled = true\n  }\n\n  /**\n   * Disables the instance to disallow it to show or hide\n   */\n  function disable() {\n    tip.state.isEnabled = false\n  }\n\n  /**\n   * Clears pending timeouts related to the `delay` prop if any\n   */\n  function clearDelayTimeouts() {\n    clearTimeout(showTimeoutId)\n    clearTimeout(hideTimeoutId)\n  }\n\n  /**\n   * Sets new props for the instance and redraws the tooltip\n   */\n  function set(options) {\n    validateOptions(options, Defaults)\n\n    const prevProps = tip.props\n    const nextProps = evaluateProps(tip.reference, {\n      ...tip.props,\n      ...options,\n      performance: true\n    })\n    nextProps.performance = options.performance || prevProps.performance\n    tip.props = nextProps\n\n    if ('trigger' in options || 'touchHold' in options) {\n      removeTriggersFromReference()\n      addTriggersToReference()\n    }\n\n    if ('interactiveDebounce' in options) {\n      cleanupOldMouseMoveListeners()\n      debouncedOnMouseMove = debounce(onMouseMove, options.interactiveDebounce)\n    }\n\n    updatePopperElement(tip.popper, prevProps, nextProps)\n    tip.popperChildren = getChildren(tip.popper)\n\n    if (\n      tip.popperInstance &&\n      POPPER_INSTANCE_RELATED_PROPS.some(prop => prop in options)\n    ) {\n      tip.popperInstance.destroy()\n      tip.popperInstance = createPopperInstance()\n      if (!tip.state.isVisible) {\n        tip.popperInstance.disableEventListeners()\n      }\n      if (tip.props.followCursor && lastMouseMoveEvent) {\n        positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n      }\n    }\n  }\n\n  /**\n   * Shortcut for .set({ content: newContent })\n   */\n  function setContent(content) {\n    set({ content })\n  }\n\n  /**\n   * Shows the tooltip\n   */\n  function show(\n    duration = getValue(tip.props.duration, 0, Defaults.duration[0])\n  ) {\n    if (\n      tip.state.isDestroyed ||\n      !tip.state.isEnabled ||\n      (isUsingTouch && !tip.props.touch)\n    ) {\n      return\n    }\n\n    // Destroy tooltip if the reference element is no longer on the DOM\n    if (\n      !tip.reference.isVirtual &&\n      !document.documentElement.contains(tip.reference)\n    ) {\n      return destroy()\n    }\n\n    // Do not show tooltip if the reference element has a `disabled` attribute\n    if (tip.reference.hasAttribute('disabled')) {\n      return\n    }\n\n    // If the reference was just programmatically focused for accessibility reasons\n    if (referenceJustProgrammaticallyFocused) {\n      referenceJustProgrammaticallyFocused = false\n      return\n    }\n\n    if (tip.props.onShow(tip) === false) {\n      return\n    }\n\n    tip.popper.style.visibility = 'visible'\n    tip.state.isVisible = true\n\n    // Prevent a transition if the popper is at the opposite placement\n    applyTransitionDuration(\n      [tip.popper, tip.popperChildren.tooltip, tip.popperChildren.backdrop],\n      0\n    )\n\n    mount(() => {\n      if (!tip.state.isVisible) {\n        return\n      }\n\n      // Arrow will sometimes not be positioned correctly. Force another update.\n      if (!hasFollowCursorBehavior()) {\n        tip.popperInstance.update()\n      }\n\n      applyTransitionDuration(\n        [\n          tip.popperChildren.tooltip,\n          tip.popperChildren.backdrop,\n          tip.popperChildren.content\n        ],\n        duration\n      )\n      if (tip.popperChildren.backdrop) {\n        tip.popperChildren.content.style.transitionDelay =\n          Math.round(duration / 6) + 'ms'\n      }\n\n      if (tip.props.interactive) {\n        tip.reference.classList.add('tippy-active')\n      }\n\n      if (tip.props.sticky) {\n        makeSticky()\n      }\n\n      setVisibilityState(\n        [\n          tip.popperChildren.tooltip,\n          tip.popperChildren.backdrop,\n          tip.popperChildren.content\n        ],\n        'visible'\n      )\n\n      onTransitionedIn(duration, () => {\n        if (tip.props.updateDuration === 0) {\n          tip.popperChildren.tooltip.classList.add('tippy-notransition')\n        }\n\n        if (\n          tip.props.interactive &&\n          ['focus', 'click'].indexOf(lastTriggerEvent.type) > -1\n        ) {\n          focus(tip.popper)\n        }\n\n        tip.reference.setAttribute('aria-describedby', tip.popper.id)\n\n        tip.props.onShown(tip)\n        tip.state.isShown = true\n      })\n    })\n  }\n\n  /**\n   * Hides the tooltip\n   */\n  function hide(\n    duration = getValue(tip.props.duration, 1, Defaults.duration[1])\n  ) {\n    if (tip.state.isDestroyed || !tip.state.isEnabled) {\n      return\n    }\n\n    if (tip.props.onHide(tip) === false) {\n      return\n    }\n\n    if (tip.props.updateDuration === 0) {\n      tip.popperChildren.tooltip.classList.remove('tippy-notransition')\n    }\n\n    if (tip.props.interactive) {\n      tip.reference.classList.remove('tippy-active')\n    }\n\n    tip.popper.style.visibility = 'hidden'\n    tip.state.isVisible = false\n    tip.state.isShown = false\n\n    applyTransitionDuration(\n      [\n        tip.popperChildren.tooltip,\n        tip.popperChildren.backdrop,\n        tip.popperChildren.content\n      ],\n      duration\n    )\n\n    setVisibilityState(\n      [\n        tip.popperChildren.tooltip,\n        tip.popperChildren.backdrop,\n        tip.popperChildren.content\n      ],\n      'hidden'\n    )\n\n    if (\n      tip.props.interactive &&\n      !referenceJustProgrammaticallyFocused &&\n      ['focus', 'click'].indexOf(lastTriggerEvent.type) > -1\n    ) {\n      if (lastTriggerEvent.type === 'focus') {\n        referenceJustProgrammaticallyFocused = true\n      }\n      focus(tip.reference)\n    }\n\n    onTransitionedOut(duration, () => {\n      if (!isPreparingToShow) {\n        removeFollowCursorListener()\n      }\n\n      tip.reference.removeAttribute('aria-describedby')\n\n      tip.popperInstance.disableEventListeners()\n\n      tip.props.appendTo.removeChild(tip.popper)\n      tip.state.isMounted = false\n\n      tip.props.onHidden(tip)\n    })\n  }\n\n  /**\n   * Destroys the tooltip\n   */\n  function destroy(destroyTargetInstances) {\n    if (tip.state.isDestroyed) {\n      return\n    }\n\n    // Ensure the popper is hidden\n    if (tip.state.isVisible) {\n      hide(0)\n    }\n\n    removeTriggersFromReference()\n\n    tip.reference.removeEventListener('click', onReferenceClick)\n\n    delete tip.reference._tippy\n\n    if (tip.props.target && destroyTargetInstances) {\n      toArray(tip.reference.querySelectorAll(tip.props.target)).forEach(\n        child => child._tippy && child._tippy.destroy()\n      )\n    }\n\n    if (tip.popperInstance) {\n      tip.popperInstance.destroy()\n    }\n\n    if (popperMutationObserver) {\n      popperMutationObserver.disconnect()\n    }\n\n    tip.state.isDestroyed = true\n  }\n}\n","import { version } from '../../package.json'\nimport { Defaults, setDefaults } from './defaults'\nimport createTippy from './createTippy'\nimport bindGlobalEventListeners from './bindGlobalEventListeners'\nimport {\n  isPlainObject,\n  polyfillVirtualReferenceProps,\n  getArrayOfElements,\n  toArray,\n  hideAllPoppers,\n  isBrowser,\n  validateOptions\n} from './utils'\n\nlet eventListenersBound = false\nlet useCapture = false\n\nexport default function tippy(targets, options, one) {\n  validateOptions(options, Defaults)\n\n  if (!eventListenersBound) {\n    bindGlobalEventListeners(useCapture)\n    eventListenersBound = true\n  }\n\n  const props = { ...Defaults, ...options }\n\n  /**\n   * If they are specifying a virtual positioning reference, we need to polyfill\n   * some native DOM props\n   */\n  if (isPlainObject(targets)) {\n    polyfillVirtualReferenceProps(targets)\n  }\n\n  const references = getArrayOfElements(targets)\n  const firstReference = references[0]\n\n  const instances = (one && firstReference\n    ? [firstReference]\n    : references\n  ).reduce((acc, reference) => {\n    const tip = reference && createTippy(reference, props)\n    if (tip) {\n      acc.push(tip)\n    }\n    return acc\n  }, [])\n\n  return {\n    targets,\n    props,\n    instances,\n    destroyAll() {\n      this.instances.forEach(instance => {\n        instance.destroy()\n      })\n      this.instances = []\n    }\n  }\n}\n\n/**\n * Static props\n */\ntippy.version = version\ntippy.defaults = Defaults\n\n/**\n * Static methods\n */\ntippy.one = (targets, options) => tippy(targets, options, true).instances[0]\ntippy.setDefaults = partialDefaults => {\n  setDefaults(partialDefaults)\n  tippy.defaults = Defaults\n}\ntippy.disableAnimations = () => {\n  tippy.setDefaults({\n    duration: 0,\n    updateDuration: 0,\n    animateFill: false\n  })\n}\ntippy.hideAllPoppers = hideAllPoppers\ntippy.useCapture = () => {\n  useCapture = true\n}\n\n/**\n * Auto-init tooltips for elements with a `data-tippy=\"...\"` attribute\n */\nexport const autoInit = () => {\n  toArray(document.querySelectorAll('[data-tippy]')).forEach(el => {\n    const content = el.getAttribute('data-tippy')\n    if (content) {\n      tippy(el, { content })\n    }\n  })\n}\nif (isBrowser) {\n  setTimeout(autoInit)\n}\n","import { Props } from 'tippy.js';\n\nexport interface TippyElement extends HTMLElement {\n    _tippy: any;\n}\n\nexport const defaultTippyConfig: Props = {\n    arrow: true,\n    arrowType: 'round',\n    animation: 'perspective',\n    touch: true,\n    inertia: true,\n    theme: 'light',\n    size: 'small'\n};","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","'use strict';\n\nmodule.exports = function(type) {\n\tif (type === 'removeListeners') {\n\t\twindow.removeEventListener('resize', this.setSizeAttributesNameSpace);\n\t\treturn;\n\t}\n\n\twindow.addEventListener('resize', this.setSizeAttributesNameSpace);\n};\n","'use strict';\n\nmodule.exports = function(type) {\n\tif (type === 'removeListeners') {\n\t\twindow.removeEventListener('scroll', this.pauseWhenNotInViewNameSpace);\n\t\treturn;\n\t}\n\n\twindow.addEventListener('scroll', this.pauseWhenNotInViewNameSpace);\n\tthis.pauseWhenNotInViewNameSpace();\n};\n","'use strict';\n\nmodule.exports = function(inputType) {\n\tvar xPositionValues = ['left', 'center', 'right'];\n\tvar yPositionValues = ['top', 'center', 'bottom'];\n\tvar stretchModeValues = ['stretch', 'stretch-if-smaller', 'stretch-if-bigger'];\n\tvar blendingModeValues = ['multiply', 'screen', 'normal', 'overlay', 'darken',\n\t\t'lighten', 'lighter', 'color-dodge', 'color-burn', 'hard-light', 'soft-light',\n\t\t'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n\tvar directionValues = ['diagonal', 'left-right', 'top-bottom', 'radial', 'custom'];\n\n\tswitch (inputType) {\n\t\tcase 'image':\n\t\t\t// Validate image.position\n\t\t\tif ((!Array.isArray(this.image.position) || this.image.position.length !== 2) ||\n\t\t\t\txPositionValues.indexOf(this.image.position[0]) === -1 ||\n\t\t\t\tyPositionValues.indexOf(this.image.position[1]) === -1\n\t\t\t) { this.triggerError('image.position') }\n\t\t\t// Validate image.stretchMode\n\t\t\tif (this.image.stretchMode) {\n\t\t\t\tif ((!Array.isArray(this.image.stretchMode) || this.image.stretchMode.length !== 2) ||\n\t\t\t\t\tstretchModeValues.indexOf(this.image.stretchMode[0]) === -1 ||\n\t\t\t\t\tstretchModeValues.indexOf(this.image.stretchMode[1]) === -1\n\t\t\t\t) { this.triggerError('image.stretchMode') }\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'blendingMode':\n\t\t\tif (blendingModeValues.indexOf(this.image.blendingMode) === -1) {\n\t\t\t\tthis.clear();\n\t\t\t\tthis.triggerError('blendingMode');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'direction':\n\t\t\tif (directionValues.indexOf(this.direction) === -1) {\n\t\t\t\tthis.triggerError('direction');\n\t\t\t} else {\n\t\t\t\tif (this.direction === 'custom') {\n\t\t\t\t\tif (!areDefinedInPixelsOrPercentage([\n\t\t\t\t\t\tthis.customDirection.x0,\n\t\t\t\t\t\tthis.customDirection.x1,\n\t\t\t\t\t\tthis.customDirection.y0,\n\t\t\t\t\t\tthis.customDirection.y1\n\t\t\t\t\t])) {\n\t\t\t\t\t\tthis.triggerError('customDirection');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t}\n};\n\nfunction areDefinedInPixelsOrPercentage(array) {\n\tvar definedInPixelsOrPercentage = true, i = 0, value;\n\twhile (definedInPixelsOrPercentage && i < array.length) {\n\t\tvalue = array[i];\n\t\tif (typeof value !== 'string') {\n\t\t\tdefinedInPixelsOrPercentage = false;\n\t\t} else {\n\t\t\tvar unit, splittedValue;\n\t\t\tif (value.indexOf('px') !== -1) unit = 'px';\n\t\t\tif (value.indexOf('%') !== -1) unit = '%';\n\t\t\tsplittedValue = value.split(unit).filter(function(value) {\n\t\t\t\treturn value.length > 0;\n\t\t\t});\n\t\t\t// Check if there is a unit ('px' or '%'),\n\t\t\t// a char before the unit,\n\t\t\t// no char after the unit,\n\t\t\t// the string without the unit is only composed of digits\n\t\t\tif (\n\t\t\t\t!unit\n\t\t\t\t|| splittedValue.length > 2\n\t\t\t\t|| !splittedValue[0]\n\t\t\t\t|| splittedValue[1]\n\t\t\t\t|| !/^-?\\d+\\.?\\d*$/.test(splittedValue[0])\n\t\t\t) {\n\t\t\t\tdefinedInPixelsOrPercentage = false;\n\t\t\t}\n\t\t}\n\t\ti++;\n\t}\n\treturn definedInPixelsOrPercentage;\n};","'use strict';\n\nmodule.exports = function(element) {\n\tvar siteURL = 'https://sarcadass.github.io/granim.js/api.html';\n\tthrow new Error('Granim: Input error on \"' + element + '\" option.\\nCheck the API ' + siteURL + '.');\n};\n","'use strict';\n\nmodule.exports = function() {\n\tvar _this = this;\n\n\tif (!this.imagePosition) {\n\t\tthis.imagePosition = { x: 0, y: 0, width: 0, height: 0 };\n\t}\n\n\tif (this.image.blendingMode) {\n\t\tthis.context.globalCompositeOperation = this.image.blendingMode;\n\t}\n\n\tif (this.imageNode) {\n\t\tsetImagePosition();\n\t\treturn;\n\t}\n\n\tthis.imageNode = new Image();\n\tthis.imageNode.onerror = function() {\n\t\tthrow new Error('Granim: The image source is invalid.');\n\t};\n\tthis.imageNode.onload = function() {\n\t\t_this.imgOriginalWidth = _this.imageNode.width;\n\t\t_this.imgOriginalHeight = _this.imageNode.height;\n\t\tsetImagePosition();\n\t\t_this.refreshColors();\n\t\tif (!_this.isPausedWhenNotInView || _this.isCanvasInWindowView) {\n\t\t\t_this.animation = requestAnimationFrame(_this.animateColors.bind(_this));\n\t\t}\n\t\t_this.isImgLoaded = true;\n\t};\n\tthis.imageNode.src = this.image.source;\n\n\tfunction setImagePosition() {\n\t\tvar i, currentAxis;\n\n\t\tfor (i = 0; i < 2; i++) {\n\t\t\tcurrentAxis = !i ? 'x' : 'y';\n\t\t\tsetImageAxisPosition(currentAxis);\n\t\t}\n\n\t\tfunction setImageAxisPosition(axis) {\n\t\t\tvar canvasWidthOrHeight = _this[axis + '1'];\n\t\t\tvar imgOriginalWidthOrHeight = _this[axis === 'x' ? 'imgOriginalWidth' : 'imgOriginalHeight'];\n\t\t\tvar imageAlignIndex = axis === 'x' ? _this.image.position[0] : _this.image.position[1];\n\t\t\tvar imageAxisPosition;\n\t\t\tswitch(imageAlignIndex) {\n\t\t\t\tcase 'center':\n\t\t\t\t\timageAxisPosition = imgOriginalWidthOrHeight > canvasWidthOrHeight ?\n\t\t\t\t\t-(imgOriginalWidthOrHeight - canvasWidthOrHeight) / 2 :\n\t\t\t\t\t(canvasWidthOrHeight - imgOriginalWidthOrHeight) / 2;\n\t\t\t\t\t_this.imagePosition[axis] = imageAxisPosition;\n\t\t\t\t\t_this.imagePosition[axis === 'x' ? 'width' : 'height'] = imgOriginalWidthOrHeight;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'top':\n\t\t\t\t\t_this.imagePosition['y'] = 0;\n\t\t\t\t\t_this.imagePosition['height'] = imgOriginalWidthOrHeight;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bottom':\n\t\t\t\t\t_this.imagePosition['y'] = canvasWidthOrHeight - imgOriginalWidthOrHeight;\n\t\t\t\t\t_this.imagePosition['height'] = imgOriginalWidthOrHeight;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'right':\n\t\t\t\t\t_this.imagePosition['x'] = canvasWidthOrHeight - imgOriginalWidthOrHeight;\n\t\t\t\t\t_this.imagePosition['width'] = imgOriginalWidthOrHeight;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'left':\n\t\t\t\t\t_this.imagePosition['x'] = 0;\n\t\t\t\t\t_this.imagePosition['width'] = imgOriginalWidthOrHeight;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (_this.image.stretchMode) {\n\t\t\t\timageAlignIndex = axis === 'x' ? _this.image.stretchMode[0] : _this.image.stretchMode[1];\n\t\t\t\tswitch(imageAlignIndex) {\n\t\t\t\t\tcase 'stretch':\n\t\t\t\t\t\t_this.imagePosition[axis] = 0;\n\t\t\t\t\t\t_this.imagePosition[axis === 'x' ? 'width' : 'height'] = canvasWidthOrHeight;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'stretch-if-bigger':\n\t\t\t\t\t\tif (imgOriginalWidthOrHeight < canvasWidthOrHeight) break;\n\t\t\t\t\t\t_this.imagePosition[axis] = 0;\n\t\t\t\t\t\t_this.imagePosition[axis === 'x' ? 'width' : 'height'] = canvasWidthOrHeight;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'stretch-if-smaller':\n\t\t\t\t\t\tif (imgOriginalWidthOrHeight > canvasWidthOrHeight) break;\n\t\t\t\t\t\t_this.imagePosition[axis] = 0;\n\t\t\t\t\t\t_this.imagePosition[axis === 'x' ? 'width' : 'height'] = canvasWidthOrHeight;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n","'use strict';\n\nmodule.exports = function() {\n\tif ( typeof window.CustomEvent === \"function\" ) return;\n\n\tfunction CustomEvent(event, params) {\n\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\tvar evt = document.createEvent('CustomEvent');\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\treturn evt;\n\t}\n\n\tCustomEvent.prototype = window.Event.prototype;\n\n\twindow.CustomEvent = CustomEvent;\n};\n","'use strict';\n\nmodule.exports = function(colorA, colorB) {\n\tvar i;\n\tvar colorDiff = [];\n\n\tfor (i = 0; i < 3; i++) {\n\t\tcolorDiff.push(colorB[i] - colorA[i])\n\t}\n\n\treturn colorDiff;\n};\n","'use strict';\n\nmodule.exports = function(hex) {\n\t// Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n\tvar shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\thex = hex.replace(shorthandRegex, function(m, r, g, b) {\n\t\treturn r + r + g + g + b + b;\n\t});\n\n\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\treturn result ? [\n\t\tparseInt(result[1], 16),\n\t\tparseInt(result[2], 16),\n\t\tparseInt(result[3], 16)\n\t] : null;\n};\n","'use strict';\n\nmodule.exports = function() {\n\tvar ctx = this.context;\n\n\tswitch(this.direction) {\n\t\tdefault:\n\t\t\tthis.triggerError('direction');\n\t\t\tbreak;\n\n\t\tcase 'diagonal':\n\t\t\treturn ctx.createLinearGradient(0, 0, this.x1, this.y1);\n\t\t\tbreak;\n\n\t\tcase 'left-right':\n\t\t\treturn ctx.createLinearGradient(0, 0, this.x1, 0);\n\t\t\tbreak;\n\n\t\tcase 'top-bottom':\n\t\t\treturn ctx.createLinearGradient(this.x1 / 2, 0, this.x1 / 2, this.y1);\n\t\t\tbreak;\n\n\t\tcase 'radial':\n\t\t\treturn ctx.createRadialGradient(this.x1 / 2, this.y1 / 2, this.x1 / 2, this.x1 / 2, this.y1 / 2, 0);\n\t\t\tbreak;\n\t\tcase 'custom':\n\t\t\treturn ctx.createLinearGradient(\n\t\t\t\tgetCustomCoordinateInPixels(this.customDirection.x0, this.x1),\n\t\t\t\tgetCustomCoordinateInPixels(this.customDirection.y0, this.y1),\n\t\t\t\tgetCustomCoordinateInPixels(this.customDirection.x1, this.x1),\n\t\t\t\tgetCustomCoordinateInPixels(this.customDirection.y1, this.y1)\n\t\t\t);\n\t\t\tbreak;\n\n\t}\n};\n\nfunction getCustomCoordinateInPixels(coordinate, size) {\n\treturn coordinate.indexOf('%') > -1\n\t\t? size / 100 * parseInt(coordinate.split('%')[0], 10)\n\t\t: parseInt(coordinate.split('px')[0], 10);\n};\n","'use strict';\n\nmodule.exports = function() {\n\tvar _this = this;\n\tvar colorDiff, nextColors;\n\n\tif (!this.channels[this.activeState]) this.channels[this.activeState] = [];\n\n\t// If the actual channel exist, reassign properties and exit\n\t// (each channel is saved to prevent recomputing it each time)\n\tif (this.channels[this.activeState][this.channelsIndex] !== undefined) {\n\t\tthis.activeColors = this.channels[this.activeState][this.channelsIndex].colors;\n\t\tthis.activeColorDiff = this.channels[this.activeState][this.channelsIndex].colorsDiff;\n\t\treturn;\n\t}\n\n\t// Set blank properties\n\tthis.channels[this.activeState].push([{}]);\n\tthis.channels[this.activeState][this.channelsIndex].colors = [];\n\tthis.channels[this.activeState][this.channelsIndex].colorsDiff = [];\n\tthis.activeColors = [];\n\tthis.activeColorDiff = [];\n\n\t// Go on each gradient of the current state\n\tthis.states[this.activeState].gradients[this.channelsIndex].forEach(function(color, i) {\n\t\t// Push the hex color converted to rgb on the channel and the active color properties\n\t\tvar rgbColor = _this.hexToRgb(color);\n\t\tvar activeChannel = _this.channels[_this.activeState];\n\n\t\tactiveChannel[_this.channelsIndex].colors.push(rgbColor);\n\t\t_this.activeColors.push(rgbColor);\n\n\t\t// If it's the first channel to be set, set the currentColors\n\t\tif (!_this.iscurrentColorsSet) {\n\t\t\t_this.currentColors.push(_this.hexToRgb(color));\n\t\t}\n\n\t\t// If it's the last gradient, compute the color diff between the last gradient and the first one,\n\t\t// else between the penultimate one and the last one\n\t\tif (_this.channelsIndex === _this.states[_this.activeState].gradients.length - 1) {\n\t\t\tcolorDiff = _this.colorDiff(\n\t\t\t\tactiveChannel[_this.channelsIndex].colors[i],\n\t\t\t\tactiveChannel[0].colors[i]\n\t\t\t);\n\t\t} else {\n\t\t\tnextColors = _this.hexToRgb(_this.states[_this.activeState].gradients[_this.channelsIndex + 1][i]);\n\t\t\tcolorDiff = _this.colorDiff(\n\t\t\t\tactiveChannel[_this.channelsIndex].colors[i], nextColors\n\t\t\t);\n\t\t}\n\n\t\tactiveChannel[_this.channelsIndex].colorsDiff.push(colorDiff);\n\t\t_this.activeColorDiff.push(colorDiff);\n\t});\n\n\tthis.activetransitionSpeed = this.states[this.activeState].transitionSpeed || 5000;\n\tthis.iscurrentColorsSet = true;\n};\n","'use strict';\n\nmodule.exports = function(element) {\n\tif (element instanceof HTMLCanvasElement) {\n\t\tthis.canvas = element;\n\n\t} else if (typeof element === \"string\") {\n\t\tthis.canvas = document.querySelector(element);\n\n\t} else {\n\t\tthrow new Error('The element you used is neither a String, nor a HTMLCanvasElement');\n\t}\n\n\tif (!this.canvas) {\n\t\tthrow new Error('`' + element + '` could not be found in the DOM');\n\t}\n};\n","'use strict';\n\nmodule.exports = function() {\n\tthis.x1 = this.canvas.offsetWidth;\n\tthis.y1 = this.canvas.offsetHeight;\n};\n","'use strict';\n\nmodule.exports = function() {\n\tvar currentColors = this.getCurrentColors();\n\tvar gradientAverage = null;\n\tvar lightnessAverage, i;\n\tvar colorsAverage = currentColors.map(function(el) {\n\t\t// Compute the average lightness of each color\n\t\t// in the current gradient\n\t\treturn Math.max(el[0], el[1], el[2]);\n\t});\n\n\tfor (i = 0; i < colorsAverage.length; i++) {\n\t\t// Add all the average lightness of each color\n\t\tgradientAverage = gradientAverage === null ?\n\t\t\tcolorsAverage[i] : gradientAverage + colorsAverage[i];\n\n\t\tif (i === colorsAverage.length - 1) {\n\t\t\t// if it's the last lightness average\n\t\t\t// divide it by the total length to\n\t\t\t// have the global average lightness\n\t\t\tlightnessAverage = Math.round(gradientAverage / (i + 1));\n\t\t}\n\t}\n\n\treturn lightnessAverage >= 128 ? 'light' : 'dark';\n};\n","'use strict';\n\nmodule.exports = function() {\n\tvar i, j;\n\tvar currentColors = [];\n\n\tfor (i = 0; i < this.currentColors.length; i++) {\n\t\tcurrentColors.push([]);\n\t\tfor (j = 0; j < 3; j++) {currentColors[i].push(this.currentColors[i][j])}\n\t}\n\n\t// Return a deep copy of the current colors\n\treturn currentColors;\n};\n","'use strict';\n\nmodule.exports = function(timestamp) {\n\tvar wasWindowIdled = timestamp - this.previousTimeStamp > 100;\n\tvar isLoop = this.states[this.activeState].loop !== undefined ? this.states[this.activeState].loop : true;\n\tvar progressPercent, isLooping, nextGradient;\n\n\t// If tab was inactive then resumed, reset the previous timestamp\n\tif (this.previousTimeStamp === null || wasWindowIdled) {\n\t\tthis.previousTimeStamp = timestamp;\n\t}\n\n\t// Compute progress and save the timestamp\n\tthis.progress = this.progress + (timestamp - this.previousTimeStamp);\n\tprogressPercent = (this.progress / this.activetransitionSpeed * 100).toFixed(2);\n\tthis.previousTimeStamp = timestamp;\n\n\t// Set the new gradient colors in a property\n\tthis.refreshColors(progressPercent);\n\n\t// Continue the animation or prepare for the next one\n\tif (progressPercent < 100) {\n\t\tthis.animation = requestAnimationFrame(this.animateColors.bind(this));\n\n\t} else {\n\t\t// if the current animation index is inferior to the penultimate gradient\n\t\t// or to the last gradient with the loop mode activated\n\t\tif (this.channelsIndex < this.states[this.activeState].gradients.length - 2 || isLoop) {\n\n\t\t\t// Set the active transition speed to the active state one after changing state\n\t\t\tif (this.isChangingState) {\n\t\t\t\tthis.activetransitionSpeed = this.states[this.activeState].transitionSpeed || 5000;\n\t\t\t}\n\n\t\t\t// Resetting properties\n\t\t\tthis.previousTimeStamp = null;\n\t\t\tthis.progress = 0;\n\t\t\tthis.channelsIndex++;\n\t\t\tisLooping = false;\n\n\t\t\t// If it's going to loop or if it's the transition after the loop\n\t\t\tif (this.channelsIndex === this.states[this.activeState].gradients.length - 1) {\n\t\t\t\tisLooping = true;\n\t\t\t\t\n\t\t\t} else if (this.channelsIndex === this.states[this.activeState].gradients.length) {\n\t\t\t\tthis.channelsIndex = 0;\n\t\t\t}\n\n\t\t\t// Checking the next gradient to send in args of an event and a callback\n\t\t\tnextGradient = this.states[this.activeState].gradients[this.channelsIndex + 1] === undefined ?\n\t\t\t\tthis.states[this.activeState].gradients[0] :\n\t\t\t\tthis.states[this.activeState].gradients[this.channelsIndex + 1];\n\n\t\t\t// Compute the colors for the transition and render a new frame\n\t\t\tthis.setColors();\n\t\t\tthis.animation = requestAnimationFrame(this.animateColors.bind(this));\n\t\t\t\n\t\t\t// Callback and Event\n\t\t\tif (this.callbacks.onGradientChange) this.callbacks.onGradientChange({\n\t\t\t\tisLooping: isLooping,\n\t\t\t\tcolorsFrom: this.states[this.activeState].gradients[this.channelsIndex],\n\t\t\t\tcolorsTo: nextGradient,\n\t\t\t\tactiveState: this.activeState\n\t\t\t});\n\n\t\t\tthis.canvas.dispatchEvent(this.events.gradientChange({\n\t\t\t\t\tisLooping: isLooping,\n\t\t\t\t\tcolorsFrom: this.states[this.activeState].gradients[this.channelsIndex],\n\t\t\t\t\tcolorsTo: nextGradient,\n\t\t\t\t\tactiveState: this.activeState\n\t\t\t\t})\n\t\t\t);\n\n\t\t// Else if it was the last gradient on the list and the loop mode is off\n\t\t} else {\n\t\t\tcancelAnimationFrame(this.animation);\n\n\t\t\t// Callback and Event\n\t\t\tif (this.callbacks.onEnd) this.callbacks.onEnd();\n\t\t\tthis.canvas.dispatchEvent(new CustomEvent('granim:end'));\n\t\t}\n\t}\n};\n","'use strict';\n\nmodule.exports = function(progressPercent) {\n\tvar _this = this;\n\tvar activeChannel, i, j;\n\n\t// Loop through each colors of the active gradient\n\tfor (i = 0; i < this.activeColors.length; i++) {\n\n\t\t// Generate RGB colors\n\t\tfor (j = 0; j < 3; j++) {\n\t\t\tactiveChannel = _this.activeColors[i][j] +\n\t\t\t\tMath.ceil(_this.activeColorDiff[i][j] / 100 * progressPercent);\n\n\t\t\t// Prevent colors values from going < 0 & > 255\n\t\t\tif (activeChannel <= 255 && activeChannel >= 0) {\n\t\t\t\t_this.currentColors[i][j] = activeChannel;\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.makeGradient();\n};\n","'use strict';\n\nmodule.exports = function() {\n\tvar i, colorPosition;\n\tvar gradient = this.setDirection();\n\tvar elToSetClassOnClass = document.querySelector(this.elToSetClassOn).classList;\n\n\tif (this.shouldClearCanvasOnEachFrame) this.context.clearRect(0, 0, this.x1, this.y1);\n\n\tif (this.image) {\n\t\tthis.context.drawImage(\n\t\t\tthis.imageNode,\n\t\t\tthis.imagePosition.x,\n\t\t\tthis.imagePosition.y,\n\t\t\tthis.imagePosition.width,\n\t\t\tthis.imagePosition.height\n\t\t);\n\t}\n\n\tfor (i = 0; i < this.currentColors.length; i++) {\n\t\t// Ensure first and last position to be 0 and 100\n\t\tcolorPosition = !i ? 0 : ((1 / (this.currentColors.length - 1)) * i).toFixed(2);\n\n\t\tgradient.addColorStop(colorPosition, 'rgba(' +\n\t\t\tthis.currentColors[i][0] + ', ' +\n\t\t\tthis.currentColors[i][1] + ', ' +\n\t\t\tthis.currentColors[i][2] + ', ' +\n\t\t\tthis.opacity[i] + ')'\n\t\t);\n\t}\n\n\tif (this.name) {\n\t\tif (this.getLightness() === 'light') {\n\t\t\telToSetClassOnClass.remove(this.name + '-dark');\n\t\t\telToSetClassOnClass.add(this.name + '-light');\n\n\t\t} else {\n\t\t\telToSetClassOnClass.remove(this.name + '-light');\n\t\t\telToSetClassOnClass.add(this.name + '-dark');\n\t\t}\n\t}\n\n\tthis.context.fillStyle = gradient;\n\tthis.context.fillRect(0, 0, this.x1, this.y1);\n};\n","'use strict';\n\nmodule.exports = function(state) {\n\tvar isPausedBecauseNotInView = state === 'isPausedBecauseNotInView';\n\tif (this.isCleared) return;\n\tif (!isPausedBecauseNotInView) this.isPaused = true;\n\tcancelAnimationFrame(this.animation);\n\tthis.animating = false;\n};\n","'use strict';\n\nmodule.exports = function(state) {\n\tvar isPlayedBecauseInView = state === 'isPlayedBecauseInView';\n\tif (!isPlayedBecauseInView) this.isPaused = false;\n\tthis.isCleared = false;\n\tif (!this.animating) {\n\t\tthis.animation = requestAnimationFrame(this.animateColors.bind(this));\n\t\tthis.animating = true;\n\t}\n};\n","'use strict';\n\nmodule.exports = function() {\n\tif (!this.isPaused) {\n\t\tcancelAnimationFrame(this.animation);\n\n\t} else {\n\t\tthis.isPaused = false;\n\t}\n\tthis.isCleared = true;\n\tthis.context.clearRect(0, 0, this.x1, this.y1);\n};\n","'use strict';\n\nmodule.exports = function() {\n\tthis.onResize('removeListeners');\n\tthis.onScroll('removeListeners');\n\tthis.clear();\n};\n","'use strict';\n\nmodule.exports = function() {\n\tvar _this = this;\n\tif (this.scrollDebounceTimeout) clearTimeout(this.scrollDebounceTimeout);\n\n\tthis.scrollDebounceTimeout = setTimeout(function() {\n\t\tvar elPos = _this.canvas.getBoundingClientRect();\n\t\t_this.isCanvasInWindowView = !(elPos.bottom < 0 || elPos.right < 0 ||\n\t\t\telPos.left > window.innerWidth || elPos.top > window.innerHeight);\n\n\t\tif (_this.isCanvasInWindowView) {\n\t\t\tif (!_this.isPaused || _this.firstScrollInit) {\n\t\t\t\tif (_this.image && !_this.isImgLoaded) {return}\n\t\t\t\t_this.isPausedBecauseNotInView = false;\n\t\t\t\t_this.play('isPlayedBecauseInView');\n\t\t\t\t_this.firstScrollInit = false;\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (!_this.image && _this.firstScrollInit) {\n\t\t\t\t_this.refreshColors();\n\t\t\t\t_this.firstScrollInit = false;\n\t\t\t}\n\n\t\t\tif (!_this.isPaused && !_this.isPausedBecauseNotInView) {\n\t\t\t\t_this.isPausedBecauseNotInView = true;\n\t\t\t\t_this.pause('isPausedBecauseNotInView');\n\t\t\t}\n\t\t}\n\t}, this.scrollDebounceThreshold);\n};\n","'use strict';\n\nmodule.exports = function() {\n\tthis.getDimensions();\n\tthis.canvas.setAttribute('width', this.x1);\n\tthis.canvas.setAttribute('height', this.y1);\n\tif (this.image) this.prepareImage();\n\tthis.refreshColors();\n};\n","'use strict';\n\nmodule.exports = function(newDirection) {\n\tthis.context.clearRect(0, 0, this.x1, this.y1);\n\tthis.direction = newDirection;\n\tthis.validateInput('direction');\n\tif (this.isPaused) this.refreshColors();\n};\n","'use strict';\n\nmodule.exports = function(newBlendingMode) {\n\tthis.context.clearRect(0, 0, this.x1, this.y1);\n\tthis.context.globalCompositeOperation =\n\t\tthis.image.blendingMode = newBlendingMode;\n\tthis.validateInput('blendingMode');\n\tif (this.isPaused) this.refreshColors();\n};\n","'use strict';\n\nmodule.exports = function(state) {\n\tvar _this = this;\n\tvar nextColors, colorDiff;\n\n\t// Prevent transitioning to the same state\n\tif (this.activeState === state) {\n\t\treturn;\n\t}\n\n\t// Setting the good properties for the transition\n\tif (!this.isPaused) {\n\t\tthis.isPaused = true;\n\t\tthis.pause();\n\t}\n\n\tthis.channelsIndex = -1;\n\tthis.activetransitionSpeed = this.stateTransitionSpeed;\n\tthis.activeColorDiff = [];\n\tthis.activeColors = this.getCurrentColors();\n\tthis.progress = 0;\n\tthis.previousTimeStamp = null;\n\tthis.isChangingState = true;\n\n\t// Compute the gradient diff between the last frame gradient\n\t// and the first one of the new state\n\tthis.states[state].gradients[0].forEach(function(color, i, arr) {\n\t\tnextColors = _this.hexToRgb(_this.states[state].gradients[0][i]);\n\t\tcolorDiff = _this.colorDiff(_this.activeColors[i], nextColors);\n\t\t_this.activeColorDiff.push(colorDiff);\n\t});\n\n\t// Start the animation\n\tthis.activeState = state;\n\tthis.play();\n};\n","'use strict';\n\nfunction Granim(options) {\n\tvar doesGradientUseOpacity;\n\tthis.getElement(options.element);\n\tthis.x1 = 0;\n\tthis.y1 = 0;\n\tthis.name = options.name || false;\n\tthis.elToSetClassOn = options.elToSetClassOn || 'body';\n\tthis.direction = options.direction || 'diagonal';\n\tthis.customDirection = options.customDirection || {};\n\tthis.validateInput('direction');\n\tthis.isPausedWhenNotInView = options.isPausedWhenNotInView || false;\n\tthis.opacity = options.opacity;\n\tthis.states = options.states;\n\tthis.stateTransitionSpeed = options.stateTransitionSpeed || 1000;\n\tthis.previousTimeStamp = null;\n\tthis.progress = 0;\n\tthis.isPaused = false;\n\tthis.isCleared = false;\n\tthis.isPausedBecauseNotInView = false;\n\tthis.iscurrentColorsSet = false;\n\tthis.context = this.canvas.getContext('2d');\n\tthis.channels = {};\n\tthis.channelsIndex = 0;\n\tthis.activeState = options.defaultStateName || 'default-state';\n\tthis.isChangingState = false;\n\tthis.activeColors = [];\n\tthis.activeColorDiff = [];\n\tthis.activetransitionSpeed = null;\n\tthis.currentColors = [];\n\tthis.eventPolyfill();\n\tthis.scrollDebounceThreshold = options.scrollDebounceThreshold || 300;\n\tthis.scrollDebounceTimeout = null;\n\tthis.isImgLoaded = false;\n\tthis.isCanvasInWindowView = false;\n\tthis.firstScrollInit = true;\n\tthis.animating = false;\n\tif (options.image && options.image.source) {\n\t\tthis.image = {\n\t\t\tsource: options.image.source,\n\t\t\tposition: options.image.position || ['center', 'center'],\n\t\t\tstretchMode: options.image.stretchMode || false,\n\t\t\tblendingMode: options.image.blendingMode || false\n\t\t};\n\t}\n\tdoesGradientUseOpacity = this.opacity.map(function(el) { return el !== 1 })\n\t\t.indexOf(true) !== -1;\n\tthis.shouldClearCanvasOnEachFrame = !!this.image || doesGradientUseOpacity;\n\tthis.events = {\n\t\tstart: new CustomEvent('granim:start'),\n\t\tend: new CustomEvent('granim:end'),\n\t\tgradientChange: function(details) {\n\t\t\treturn new CustomEvent('granim:gradientChange', {\n\t\t\t\tdetail: {\n\t\t\t\t\tisLooping: details.isLooping,\n\t\t\t\t\tcolorsFrom: details.colorsFrom,\n\t\t\t\t\tcolorsTo: details.colorsTo,\n\t\t\t\t\tactiveState: details.activeState\n\t\t\t\t},\n\t\t\t\tbubbles: false,\n\t\t\t\tcancelable: false\n\t\t\t})\n\t\t}\n\t};\n\tthis.callbacks = {\n\t\tonStart: typeof options.onStart === 'function' ? options.onStart : false,\n\t\tonGradientChange: typeof options.onGradientChange === 'function' ?\n\t\t\toptions.onGradientChange :\n\t\t\tfalse,\n\t\tonEnd: typeof options.onEnd === 'function' ? options.onEnd : false\n\t};\n\tthis.getDimensions();\n\tthis.canvas.setAttribute('width', this.x1);\n\tthis.canvas.setAttribute('height', this.y1);\n\tthis.setColors();\n\n\tif (this.image) {\n\t\tthis.validateInput('image');\n\t\tthis.prepareImage();\n\t}\n\n\tthis.pauseWhenNotInViewNameSpace = this.pauseWhenNotInView.bind(this);\n\tthis.setSizeAttributesNameSpace = this.setSizeAttributes.bind(this);\n\tthis.onResize();\n\n\tif (this.isPausedWhenNotInView) {\n\t\tthis.onScroll();\n\t} else {\n\t\tif (!this.image) {\n\t\t\tthis.refreshColors();\n\t\t\tthis.animation = requestAnimationFrame(this.animateColors.bind(this));\n\t\t\tthis.animating = true;\n\t\t}\n\t}\n\n\t// Callback and Event\n\tif (this.callbacks.onStart) this.callbacks.onStart();\n\tthis.canvas.dispatchEvent(this.events.start);\n}\n\nGranim.prototype.onResize = require('./onResize.js');\n\nGranim.prototype.onScroll = require('./onScroll.js');\n\nGranim.prototype.validateInput = require('./validateInput.js');\n\nGranim.prototype.triggerError = require('./triggerError.js');\n\nGranim.prototype.prepareImage = require('./prepareImage.js');\n\nGranim.prototype.eventPolyfill = require('./eventPolyfill.js');\n\nGranim.prototype.colorDiff = require('./colorDiff.js');\n\nGranim.prototype.hexToRgb = require('./hexToRgb.js');\n\nGranim.prototype.setDirection = require('./setDirection.js');\n\nGranim.prototype.setColors = require('./setColors.js');\n\nGranim.prototype.getElement = require('./getElement.js');\n\nGranim.prototype.getDimensions = require('./getDimensions.js');\n\nGranim.prototype.getLightness = require('./getLightness.js');\n\nGranim.prototype.getCurrentColors = require('./getCurrentColors.js');\n\nGranim.prototype.animateColors = require('./animateColors.js');\n\nGranim.prototype.refreshColors = require('./refreshColors.js');\n\nGranim.prototype.makeGradient = require('./makeGradient.js');\n\nGranim.prototype.pause = require('./pause.js');\n\nGranim.prototype.play = require('./play.js');\n\nGranim.prototype.clear = require('./clear.js');\n\nGranim.prototype.destroy = require('./destroy.js');\n\nGranim.prototype.pauseWhenNotInView = require('./pauseWhenNotInView.js');\n\nGranim.prototype.setSizeAttributes = require('./setSizeAttributes.js');\n\nGranim.prototype.changeDirection = require('./changeDirection.js');\n\nGranim.prototype.changeBlendingMode = require('./changeBlendingMode.js');\n\nGranim.prototype.changeState = require('./changeState.js');\n\nmodule.exports = Granim;\n","module.exports = require('./lib/Granim.js');\n","export function getElementCoordinate(position: number, size: number): number {\n    if (size <= 0) {\n        throw new Error('Size must be greater than 0');\n    }\n    return position + (size / 2);\n};\n\nexport function calcAngleDegrees(x: number, y: number): number {\n    return Math.atan2(y, x) * 180 / Math.PI;\n};\n\nexport function preventSelection(event: TouchEvent | MouseEvent | PointerEvent): TouchEvent | MouseEvent | PointerEvent {\n    if (event.stopPropagation) event.stopPropagation();\n    if (event.preventDefault) event.preventDefault();\n    event.cancelBubble = true;\n    event.returnValue = false;\n    return event;\n};\n\nexport function getRandomElementFromArray(array: any[]): any {\n    if (!array || array.length <= 0) {\n        throw new Error('Array parameter must be defined and must have at least one element');\n    }\n    return array[this.getRandomIntFromRange(0, array.length - 1)];\n};\n\nexport function getRandomIntFromRange(min: number, max: number): number {\n    if (min >= max) {\n        throw new Error('The maximum value from the range must be greater than the minimum value');\n    }\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n};","export interface Step {\n    animationClass: StepName\n    contentKey: string,\n    triggered?: boolean\n}\n\nexport type StepName = 'pan' | 'swipe' | 'doubleTap';\n\nexport interface Steps {\n    [key: string]: Step\n}\n\nexport const steps: Steps = {    \n    'pan': {\n        animationClass: 'pan',\n        contentKey: 'tutorialPan'\n    },\n    'swipe': {\n        animationClass: 'swipe',\n        contentKey: 'tutorialSwipe'\n    },\n    'doubleTap': {\n        animationClass: 'doubleTap',\n        contentKey: 'tutorialDoubleTap'\n    }\n}; ","// local imports\nimport { Step, steps, StepName, Steps } from './step';\nimport { TippyElement } from '../common';\nimport { Translator } from '../translator/translator';\n\n// this party libraries imports\nimport tippy from 'tippy.js';\nimport { Props } from 'tippy.js';\n\nexport class Tutorial {\n\n    private hand: TippyElement;\n    private _stepIndex: number;\n\n    private get stepIndex(): number {\n        return this._stepIndex;\n    }\n\n    private set stepIndex(stepIndexValue: number) {\n        this._stepIndex = stepIndexValue >= Object.keys(steps).length ? 0 : stepIndexValue\n    }\n\n    private currentStep: Step;\n    private translator: Translator;\n\n    private _tutorialState: Steps;\n\n    get tutorialState(): Steps {\n        return this._tutorialState || JSON.parse(localStorage.getItem('tutorialState')) || steps;\n    }\n\n    set tutorialState(tutorialStateValue: Steps) {\n        localStorage.setItem('tutorialState', JSON.stringify(tutorialStateValue));\n        this._tutorialState = tutorialStateValue;\n    }\n\n    private setCurrentStep() {\n        this.currentStep = this.tutorialState[Object.keys(steps).find((key: string, index: number) => {\n            return index === this.stepIndex && !this.tutorialState[key].triggered;\n        })];\n        this.playCurrentStep();\n    }\n\n    constructor(translatorInstance: Translator) {\n        this.translator = translatorInstance;\n        this._tutorialState = this.tutorialState;\n        this.hand = <TippyElement>(document.getElementById('hand'));\n        tippy(this.hand, {\n            sticky: true\n        });\n        this.stepIndex = Object.keys(steps).findIndex(key => !this.tutorialState[key].triggered);\n        this.setCurrentStep();\n\n        document.addEventListener('languageChanged', (event) => {\n            this.playCurrentStep();\n        });\n\n    }\n\n    playCurrentStep() {\n        if (this.currentStep) {\n            this.hand._tippy.setContent(\n                this.translator.getTranslatedText(this.currentStep.contentKey)\n            );\n            if (this.hand.className !== this.currentStep.animationClass) {\n                this.hand.className = this.currentStep.animationClass;\n            }\n            setTimeout(() => {\n                this.hand._tippy.show();\n            }, 200);\n        } else {\n            this.hand.className = 'hidden';\n            this.hand._tippy.hide();\n        }\n    }\n\n    next(): void {\n        this.stepIndex = this.stepIndex + 1;\n        this.setCurrentStep();\n    }\n\n    changeTutorialState(actionType: StepName, value: boolean): void {\n        // Need to trigger the setter\n        if (this._tutorialState[actionType].triggered !== value) {\n            this._tutorialState[actionType].triggered = value;\n            this.tutorialState = {\n                ...this.tutorialState,\n                [actionType]: {\n                    ...this.tutorialState[actionType],\n                    triggered: value\n                }\n            }\n            this.next();\n        }\n    }\n}","export const translations = {\n    'fr': {\n        nativescript: 'Dveloppeur Expert ',\n        angular: 'Depuis 2014 ',\n        typescript: 'Depuis Angular 2.x',\n        catchPhrase: {\n            0: `Le mieux est l'ennemi du bien`,\n            2: 'Gucci gang, Gucci gang, Gucci gang.. Hein?!',\n            1: `S'amuser avec la carte, tu feras `,\n            3: `J'essaie de trouver un poste aux USA, n'hsitez pas  m'envoyer un email`,\n            4: `Je vise  toujours apprendre de nouvelles choses`\n        },\n        surfing: 'du surf ',\n        teaching: 'apprendre aux autres',\n        collaborate: 'travailler en quipe',\n        music: 'couter de la musique',\n        inLoveWithOpenSource: `Je suis  de l'open source et...`,\n        wannaKnowMore: 'Vous voulez en savoir plus?',\n        liftingWeights: 'Soulever des poids (essayer en tout cas) ',\n        cat: `les chats (mme si a n'a pas l'air rciproque )`,\n        dog: `les chiens (en plus a a l'air rciproque )`,\n        pingpong: `j'ai mme fait de la comptition`,\n        tennis: `j'ai du arrt  cause du pingpong`,\n        guitar: `j'en ai jou pendant 4 ans (ne me demandez pas d'en jouer..)`,\n        piano: `j'ai jou du piano pendant 9 ans (ne se souvient de rien..)`,\n        videoGames: `Je joue  Fortnie, ne me dtestez pas`,\n        github: `j'adore git et l'open source, comment pourrais-je ne pas aimer GitHub?`,\n        git: `collaborer sur do code rendu simple`,\n        javascript: 'depuis 2014 ',\n        sneakersAddict: `j'achte trop de sneakers et mon portefeuille m'en veut`,\n        havingABeer: `partager une bonne bire (ou plusieurs) entre amis `,\n        thinking: `rflchir et trouver des solutions `,\n        wineAndCheese: `Je suis franais ne l'oublions pas.. `,\n        cinema: `J'ai toujours t un cinphile`,\n        css: 'Copie colle sur CodePen',\n        tutorialSwipe: 'Swippez!',\n        tutorialPan: 'Pivotez!',\n        tutorialDoubleTap: 'Double clickez!',\n        inputHelp: 'Cliquez sur une icone pour en savoir plus!'\n    },\n    'en': {\n        nativescript: 'Developer Expert ',\n        angular: 'Since 2014 ',\n        typescript: 'Since Angular 2.x',\n        catchPhrase: {\n            0: `The best it the enemy of the good`,\n            2: 'Gucci gang, Gucci gang, Gucci gang.. Wait, WTF?!',\n            1: `Having fun with the card, you will `,\n            3: `I'm trying to find a job in the USA, feel free to send me an email`,\n            4: `I aim to always learn new things`\n        },\n        surfing: 'surfing ',\n        teaching: 'teaching',\n        collaborate: 'working with others',\n        music: 'listening to music',\n        inLoveWithOpenSource: `I'm in  love with open source and...`,\n        wannaKnowMore: 'Wanna know more?',\n        liftingWeights: 'Lifting weights (trying at least) ',\n        cat: `cats (even though they seem to not care )`,\n        dog: `dogs (they actually seem to care.. )`,\n        pingpong: `I even did competitions`,\n        tennis: `has to stop because of pingpong`,\n        guitar: `I've practiced for 4 years (don't event ask me to play..)`,\n        piano: `I've practiced for 9 years (don't remember a thing..)`,\n        videoGames: `I do play fortnite, don't hate me`,\n        github: `loving git and open source, how could I not love GitHub?`,\n        git: `code collaboration made easy`,\n        javascript: 'since 2014 ',\n        sneakersAddict: `I buy too much sneakers, and my wallet doesn't thank me`,\n        havingABeer: `share a good beer (or multiple) with friends `,\n        thinking: `thinkins and finding solutions `,\n        wineAndCheese: `Let's not forget I'm french `,\n        cinema: `I've always been a cinema lover`,\n        css: 'Copying and pasting from CodePen',\n        tutorialSwipe: 'Swipe!',\n        tutorialPan: 'Pan it around!',\n        tutorialDoubleTap: 'Double click/tap!',\n        inputHelp: 'Tap an icon to know more!'\n    }\n}\n\n","import { getRandomIntFromRange } from '../utils';\nimport { translations } from './translations';\nimport { TippyElement } from '../common';\nimport tippy, { Tippy } from 'tippy.js';\n\nexport class Translator {\n    private languagesPicker: HTMLElement;\n\n    private _locale: string;\n    public translationsKeys: string[];\n    public catchPhraseIndex: number;\n\n    private languageChangeEvent: CustomEvent;\n\n    public set locale(newLocale: string) {\n        this._locale = newLocale;\n        localStorage.setItem('locale', newLocale);\n    }\n\n    public get locale(): string {\n        const locale: string = this._locale || localStorage.getItem('locale') || navigator.language || 'en';\n        return locale.split('-').length > 0 ? locale.split('-')[0] : locale;\n    }\n\n    constructor() {\n        tippy('.tippy');\n        this._locale = this.locale;\n        this.languageChangeEvent = document.createEvent('CustomEvent');\n        this.languageChangeEvent.initCustomEvent('languageChanged', true, true, {\n            language: this.locale\n        });\n        this.translationsKeys = Object.keys(translations[this.locale]);\n        this.initLanguagePicker();\n    }\n\n    private initLanguagePicker() {\n        this.languagesPicker = document.getElementById('language-picker');\n\n        this.onLanguageChange();\n\n        const languagesOptions = document.getElementsByClassName('language') as HTMLCollectionOf<HTMLElement>;\n\n        for (let index = 0; index < languagesOptions.length; index++) {\n            const languageManager = new Hammer(languagesOptions.item(index));\n            languageManager.on('tap', (tapEvent) => {\n                if (this.languagesPicker.classList.contains('hover')) {\n                    this.locale = tapEvent.target.dataset.language;\n                    document.dispatchEvent(this.languageChangeEvent);\n                    this.onLanguageChange();\n                }\n                this.languagesPicker.classList.toggle('hover');\n            });\n        }\n    }\n\n    private onLanguageChange() {\n        this.orderLanguages();\n        this.renderTranslatedTexts();\n    }\n\n    private orderLanguages(): void {\n\n        const languages: HTMLCollectionOf<HTMLElement> = this.languagesPicker.children as HTMLCollectionOf<HTMLElement>;\n\n        let languageIndex = -1, i = 0;\n        while (i < languages.length && languageIndex < 0) {\n            if (languages[i].dataset.language === this.locale) {\n                languageIndex = i;\n            } else {\n                i++;\n            }\n        }\n\n        this.languagesPicker.insertBefore(languages[languageIndex], languages[0]);\n    }\n\n    public getTranslatedText(key: string): string {\n        let translation = translations[this.locale][key];\n\n        if (translation instanceof Object) {\n            if (this.catchPhraseIndex === undefined) {\n                this.catchPhraseIndex = getRandomIntFromRange(0, Object.keys(translation).length - 1);\n            }\n            translation = `\"${translations[this.locale][key][this.catchPhraseIndex]}\"`;\n        }\n\n        return translation;\n    }\n\n    private renderTranslatedTexts(): void {\n        this.translationsKeys.forEach((translationKey) => {\n            const element: TippyElement | HTMLElement = document.getElementById(translationKey);\n            this.renderElementTranslatedText(element, translationKey);\n        });\n    }\n\n    private renderElementTranslatedText(element: HTMLElement | TippyElement, translationKey: string): void {\n        const translatedText: string = this.getTranslatedText(translationKey);\n        if (element) {\n            if (element.classList.contains('tippy')) {\n                const tip: TippyElement = <TippyElement>(element);\n                tip._tippy.setContent(translatedText ? translatedText : element.dataset.tippy);\n            } else {\n                element.innerText = translatedText;\n            }\n        }\n    }\n\n}","\n// third party imports\nimport { Manager } from 'hammerjs';\nimport Granim = require('granim');\nimport tippy from 'tippy.js';\n// local imports\nimport { getRandomElementFromArray, getElementCoordinate, calcAngleDegrees, preventSelection, getRandomIntFromRange } from './utils';\nimport { Tutorial } from './tutorial/tutorial';\nimport { TippyElement } from './common';\nimport { Translator } from './translator/translator';\n\nconst devilTimeout = 66.6;\n\nexport class Portfolio {\n\n    private granims: {\n        [key: string]: any\n    } = {};\n\n    private me: HTMLElement;\n    private scene: HTMLElement;\n    private card: HTMLElement;\n    private faces: NodeListOf<Element>;\n\n    private searchInput: TippyElement;\n    private searchableItems: NodeListOf<HTMLElement>;\n\n    private isScrolling = false;\n    private isRotating = false;\n\n    private translator: Translator;\n\n    private tutorial: Tutorial;\n\n    constructor() {\n        this.translator = new Translator();\n\n        this.initElements();\n\n        this.tutorial = new Tutorial(this.translator);\n\n        this.initGradients();\n    }\n\n    onLoad(): void {\n\n        const sceneManager = new Manager(this.scene),\n            documentManager = new Hammer(document.body),\n            cardManager = new Hammer(this.card);\n\n        const DoubleTap = new Hammer.Tap({\n            event: 'doubletap',\n            taps: 2\n        });\n\n        sceneManager.add(DoubleTap);\n\n        const PanTimeout = new Hammer.Pan({\n            event: 'panmove',\n            threshold: 500\n        });\n\n        const searchableItemsContainer = document.getElementById('search-items');\n        let timeout;\n\n        searchableItemsContainer.addEventListener('scroll', (event) => {\n            event.stopPropagation();\n            this.isScrolling = true;\n\n            clearTimeout(timeout);\n\n            timeout = setTimeout(() => {\n                // avoid scroll and pan conflicts\n                this.isScrolling = false;\n            }, devilTimeout);\n\n        }, { passive: true });\n\n        documentManager.on('panmove', (moveEvent: TouchMouseInput) => {\n            if (!this.isScrolling && !this.isRotating) {\n                this.onDrag(moveEvent);\n            }\n        });\n\n        documentManager.on('panend pancancel', () => {\n            this.tutorial.changeTutorialState('pan', true);\n            this.rotateCard(0, 0);\n        });\n\n        sceneManager.on('doubletap', () => {\n            this.tutorial.changeTutorialState('doubleTap', true);\n            this.flipCard();\n        });\n\n        cardManager.on('swipe', () => {\n            this.tutorial.changeTutorialState('swipe', true);\n            this.flipCard();\n        });\n\n        this.initSearch();\n    }\n\n    private initElements() {\n        this.scene = document.getElementById('scene');\n        this.card = document.getElementById('card');\n        this.me = document.getElementById('gradient-canvas-me');\n        this.searchInput = document.getElementById('search-input');\n        tippy(this.searchInput, {\n            sticky: true,\n            content: this.translator.getTranslatedText('inputHelp')\n        });\n\n        document.addEventListener('languageChanged', (event) => {\n            this.searchInput._tippy.setContent(\n                this.translator.getTranslatedText('inputHelp')\n            );\n        });\n\n        this.searchableItems = document.querySelectorAll('.tippy');\n        this.faces = document.querySelectorAll('.card-face');\n    }\n\n    private initGradients() {\n        const options = {\n            direction: 'diagonal',\n            opacity: [1, 1],\n            states: {\n                'default-state': {\n                    gradients: [\n                        ['#21C2CC', '#6B4BBA'],\n                        ['#229EA6', '#3F28B1']\n                    ]\n                }\n            }\n        };\n\n        this.granims['me'] = new Granim({\n            element: this.me,\n            ...options\n        });\n\n        this.granims['body'] = new Granim({\n            element: '#gradient-canvas-body',\n            ...options\n        });\n    }\n\n    private initSearch() {\n        this.searchInput.addEventListener('input', (event: any) => {\n            this.searchableItems.forEach((item: TippyElement) => {\n                let itemValue = item.id.toLowerCase().trim();\n                if (item._tippy.props.content) {\n                    itemValue = `${itemValue}${item._tippy.props.content.toLowerCase().trim()}`;\n                }\n                const typedValue = event.target.value.toLowerCase().trim();\n\n                if (itemValue.indexOf(typedValue) < 0) {\n                    item.style.display = 'none';\n                } else {\n                    item.style.display = 'flex';\n                }\n            });\n        });\n    }\n\n\n    private rotateCard(angleDegX: number, angleDegY: number): void {\n        this.isRotating = true;\n        this.scene.style.transform = 'rotateY(' + angleDegX + 'deg) rotateX(' + angleDegY + 'deg)';\n        setTimeout(() => {\n            // prevent glitches\n            this.isRotating = false;\n        }, devilTimeout);\n    }\n\n    private flipCard(): void {\n        this.card.classList.toggle('is-flipped');\n        /*\n        * Issue: Can't use CSS proprty backface-visibility, all text is displayed once the rotation's animation is done\n        * Solution: hide non-active card's face using the CSS class hidden\n        */\n        this.faces.forEach(cardFace => {\n            cardFace.classList.toggle('hidden');\n            cardFace.classList.toggle('shown');\n        });\n\n    }\n\n    private isFlipped(): boolean {\n        return this.card.classList.contains('is-flipped');\n    }\n\n    private rotateGradient(granimKey: 'body' | 'me', x: number, y: number) {\n        const customDirection = {\n            x0: '0px',\n            y0: '0px',\n            x1: `${x}px`,\n            y1: `${y}px`\n        };\n        this.granims[granimKey].customDirection = customDirection;\n        this.granims[granimKey].changeDirection('custom');\n    }\n\n    private onDrag(moveEvent): void {\n\n        const event = { ...preventSelection(moveEvent.srcEvent) };\n\n        const coordinateOwner = moveEvent.srcEvent;\n\n        const x = coordinateOwner.pageX,\n            y = coordinateOwner.pageY;\n\n        const elementOffset: ClientRect = this.scene.getBoundingClientRect();\n\n        const elementX: number = getElementCoordinate(elementOffset.left, elementOffset.width),\n            elementY: number = getElementCoordinate(elementOffset.right, elementOffset.height);\n\n        const angleDegX: number = calcAngleDegrees(elementX, x - elementX),\n            angleDegY: number = calcAngleDegrees(elementY, y - elementY);\n\n        const meOffset: ClientRect = this.me.getBoundingClientRect();\n\n        const meX: number = x / elementOffset.width * meOffset.width,\n            meY: number = y / elementOffset.height * meOffset.height;\n\n        this.rotateGradient('body', x, y);\n        this.rotateGradient('me', meX, meY);\n        this.rotateCard(angleDegX, angleDegY);\n    }\n}","// third party imports\nimport tippy from 'tippy.js';\n\n// local imports\nimport { defaultTippyConfig } from './common';\nimport { Portfolio } from './portfolio';\n\nnavigator.serviceWorker && navigator.serviceWorker.register('./sw.ts').then(function (registration) {\n});\n\ntippy.setDefaults(defaultTippyConfig);\n\nconst portfolio = new Portfolio();\n\nwindow.addEventListener('load', () => {\n    portfolio.onLoad();\n});"]}